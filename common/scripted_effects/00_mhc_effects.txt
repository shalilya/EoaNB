mhc_junta_nullify_ps = {
	hidden_effect = {
		if = {
			limit = {
				PS_pol_stab_minus_five = yes
			}
			increase_ps_by_three = yes
			increase_ps_by_two = yes
		}
		else_if = {
			limit = {
				PS_pol_stab_minus_four = yes
			}
			increase_ps_by_two = yes
			increase_ps_by_two = yes
		}
		else_if = {
			limit = {
				PS_pol_stab_minus_three = yes
			}
			increase_ps_by_three = yes
		}
		else_if = {
			limit = {
				PS_pol_stab_minus_two = yes
			}
			increase_ps_by_two = yes
		}
		else_if = {
			limit = {
				PS_pol_stab_minus_one = yes
			}
			increase_ps_by_one = yes
		}
		else_if = {
			limit = {
				PS_pol_stab_plus_one = yes
			}
			decrease_ps_by_one = yes
		}
		else_if = {
			limit = {
				PS_pol_stab_plus_two = yes
			}
			decrease_ps_by_two = yes
		}
		else_if = {
			limit = {
				PS_pol_stab_plus_three = yes
			}
			decrease_ps_by_three = yes
		}
	}
}

mhc_junta_disable_parliament_decisions = {
	hidden_effect = {
		set_country_flag = parl_rad_soc_meet_party_leaders_is_prohibited
		set_country_flag = parl_soc_lib_meet_party_leaders_is_prohibited
		set_country_flag = parl_soc_ega_meet_party_leaders_is_prohibited
		set_country_flag = parl_cen_meet_party_leaders_is_prohibited
		set_country_flag = parl_tra_con_meet_party_leaders_is_prohibited
		set_country_flag = parl_rad_dem_meet_party_leaders_is_prohibited
		set_country_flag = parl_aut_meet_party_leaders_is_prohibited
		set_country_flag = parl_chauv_pop_meet_party_leaders_is_prohibited
		set_country_flag = parl_fun_meet_party_leaders_is_prohibited
		
		set_country_flag = parl_make_speech_in_parliament_is_prohibited
		set_country_flag = parl_make_political_deals_is_prohibited
		set_country_flag = parl_convince_opposition_leaders_is_prohibited
		set_country_flag = parl_pressure_the_lobbies_is_prohibited
		set_country_flag = parl_talk_with_the_unions_is_prohibited
		set_country_flag = parl_silence_out_opponants_is_prohibited
		set_country_flag = parl_propose_compromises_is_prohibited
		set_country_flag = eoanb_decision_generic_arrest_opposition_leaders_is_prohibited
		set_country_flag = eoanb_decision_generic_ban_opposition_party_is_prohibited
	}
}

mhc_junta_enable_parliament_decisions = {
	hidden_effect = {
		clr_country_flag = parl_rad_soc_meet_party_leaders_is_prohibited
		clr_country_flag = parl_soc_lib_meet_party_leaders_is_prohibited
		clr_country_flag = parl_soc_ega_meet_party_leaders_is_prohibited
		clr_country_flag = parl_cen_meet_party_leaders_is_prohibited
		clr_country_flag = parl_tra_con_meet_party_leaders_is_prohibited
		clr_country_flag = parl_rad_dem_meet_party_leaders_is_prohibited
		clr_country_flag = parl_aut_meet_party_leaders_is_prohibited
		clr_country_flag = parl_chauv_pop_meet_party_leaders_is_prohibited
		clr_country_flag = parl_fun_meet_party_leaders_is_prohibited
		
		clr_country_flag = parl_make_speech_in_parliament_is_prohibited
		clr_country_flag = parl_make_political_deals_is_prohibited
		clr_country_flag = parl_convince_opposition_leaders_is_prohibited
		clr_country_flag = parl_pressure_the_lobbies_is_prohibited
		clr_country_flag = parl_talk_with_the_unions_is_prohibited
		clr_country_flag = parl_silence_out_opponants_is_prohibited
		clr_country_flag = parl_propose_compromises_is_prohibited
		clr_country_flag = eoanb_decision_generic_arrest_opposition_leaders_is_prohibited
		clr_country_flag = eoanb_decision_generic_ban_opposition_party_is_prohibited
	}
}

mhc_alerts_collector = {
	hidden_effect = {
		mhc_check_alerts_powerful = yes
		mhc_check_alerts_unfit = yes
		mhc_check_alerts_activated = yes
	}
}

mhc_check_alerts_powerful = {
	hidden_effect = {
		# advisors
		if = {
			limit = {
				OR = {
					check_variable = { mhc_powerful_army_officials^num > 0 }
					check_variable = { mhc_powerful_airforce_officials^num > 0 }
					check_variable = { mhc_powerful_navy_officials^num > 0 }
				}
			}
			set_temp_variable = { custom_alerts_add_target = 1 }
			custom_alerts_add_alert = yes
		}
		else_if = {
			limit = {
				OR = {
					is_in_array = {
						array = local_alerts_array
						value = 1
					}
					is_in_array = {
						array = local_alerts_disabled_array
						value = 1
					}
				}
			}
			set_temp_variable = { custom_alerts_remove_target = 1 }
			custom_alerts_remove_alert = yes
		}
		
		# orgs
		if = {
			limit = {
				OR = {
					check_variable = { mhc_army_power > 79 }
					check_variable = { mhc_airforce_power > 79 }
					check_variable = { mhc_navy_power > 79 }
				}
			}
			set_temp_variable = { custom_alerts_add_target = 2 }
			custom_alerts_add_alert = yes
		}
		else_if = {
			limit = {
				OR = {
					is_in_array = {
						array = local_alerts_array
						value = 2
					}
					is_in_array = {
						array = local_alerts_disabled_array
						value = 2
					}
				}
			}
			set_temp_variable = { custom_alerts_remove_target = 2 }
			custom_alerts_remove_alert = yes
		}
	}
}

mhc_check_alerts_unfit = {
	hidden_effect = {
		if = {
			limit = {
				OR = {
					# army
					has_country_flag = mhc_sec_unfit
					has_country_flag = mhc_chief_unfit
					# airforce
					has_country_flag = mhc_afc_unfit
					# navy
					has_country_flag = mhc_nas_unfit
					has_country_flag = mhc_ncs_unfit
				}
			}
			set_temp_variable = { custom_alerts_add_target = 3 }
			custom_alerts_add_alert = yes
		}
		else_if = {
			limit = {
				OR = {
					is_in_array = {
						array = local_alerts_array
						value = 3
					}
					is_in_array = {
						array = local_alerts_disabled_array
						value = 3
					}
				}
			}
			set_temp_variable = { custom_alerts_remove_target = 3 }
			custom_alerts_remove_alert = yes
		}
	}
}

mhc_check_alerts_activated = {
	hidden_effect = {
		# activated, peace
		if = {
			limit = {
				has_war = no
				check_variable = { local_mhc_active^num > 0 }
			}
			set_temp_variable = { custom_alerts_add_target = 4 }
			custom_alerts_add_alert = yes
		}
		else_if = {
			limit = {
				OR = {
					is_in_array = {
						array = local_alerts_array
						value = 4
					}
					is_in_array = {
						array = local_alerts_disabled_array
						value = 4
					}
				}
			}
			set_temp_variable = { custom_alerts_remove_target = 4 }
			custom_alerts_remove_alert = yes
		}
		
		# inactive, war
		if = {
			limit = {
				has_war = yes
				check_variable = { local_mhc_active^num = 0 }
			}
			set_temp_variable = { custom_alerts_add_target = 5 }
			custom_alerts_add_alert = yes
		}
		else_if = {
			limit = {
				OR = {
					is_in_array = {
						array = local_alerts_array
						value = 5
					}
					is_in_array = {
						array = local_alerts_disabled_array
						value = 5
					}
				}
			}
			set_temp_variable = { custom_alerts_remove_target = 5 }
			custom_alerts_remove_alert = yes
		}
	}
}

mhc_reset_all_selectors = {
	hidden_effect = {
		ROOT = {
			set_variable = { show_local_mhc_selector = 0 }
		}
	}
}

mhc_raise_power_collector = {
	hidden_effect = {
		#ROOT = {
			mhc_raise_power_army = yes
			mhc_raise_power_airforce = yes
			mhc_raise_power_navy = yes
		#}
	}
}

mhc_lower_power_collector = {
	hidden_effect = {
		#ROOT = {
			mhc_lower_power_army = yes
			mhc_lower_power_airforce = yes
			mhc_lower_power_navy = yes
		#}
	}
}

mhc_get_results_collector = {
	hidden_effect = {
		#ROOT = {
			mhc_get_results_army = yes
			mhc_get_results_airforce = yes
			mhc_get_results_navy = yes
		#}
	}
}

mhc_get_results_effects_collector = {
	hidden_effect = {
		#ROOT = {
			mhc_get_results_effects_army = yes
			mhc_get_results_effects_airforce = yes
			mhc_get_results_effects_navy = yes
		#}
	}
}

mhc_junta_collector = {
	hidden_effect = {
		if = {
			limit = {
				NOT = {
					has_government = chauvinist_populism
					has_civil_war = yes
				}
			}
			if = {
				limit = {
					check_variable = { mhc_army_power > 79 }
					NOT = {
						mhc_has_military_junta = yes
					}
				}
				random_list = {
					50 = {
						#nothing
					}
					50 = {
						random_list = {
							75 = {
								mhc_create_junta_army = yes
							}
							25 = {
								set_country_flag = mhc_pre_junta_army
								if = {
									limit = {
										check_variable = { mhc_airforce_power > 49 }
									}
									country_event = { id = mhc.18 }
								}
								else_if = {
									limit = {
										check_variable = { mhc_navy_power > 49 }
									}
									country_event = { id = mhc.19 }
								}
								else_if = {
									limit = {
										check_variable = { mhc_navy_power > 34 }
										check_variable = { mhc_navy_power > 34 }
									}
									country_event = { id = mhc.22 }
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_airforce_power > 79 }
					NOT = {
						mhc_has_military_junta = yes
					}
				}
				random_list = {
					50 = {
						#nothing
					}
					50 = {
						random_list = {
							75 = {
								mhc_create_junta_airforce = yes
							}
							25 = {
								set_country_flag = mhc_pre_junta_airforce
								if = {
									limit = {
										check_variable = { mhc_army_power > 49 }
									}
									country_event = { id = mhc.17 }
								}
								else_if = {
									limit = {
										check_variable = { mhc_navy_power > 49 }
									}
									country_event = { id = mhc.19 }
								}
								else_if = {
									limit = {
										check_variable = { mhc_army_power > 34 }
										check_variable = { mhc_navy_power > 34 }
									}
									country_event = { id = mhc.21 }
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_navy_power > 79 }
					NOT = {
						mhc_has_military_junta = yes
					}
				}
				random_list = {
					50 = {
						#nothing
					}
					50 = {
						random_list = {
							75 = {
								mhc_create_junta_navy = yes
							}
							25 = {
								set_country_flag = mhc_pre_junta_navy
								if = {
									limit = {
										check_variable = { mhc_army_power > 49 }
									}
									country_event = { id = mhc.17 }
								}
								else_if = {
									limit = {
										check_variable = { mhc_airforce_power > 49 }
									}
									country_event = { id = mhc.18 }
								}
								else_if = {
									limit = {
										check_variable = { mhc_army_power > 34 }
										check_variable = { mhc_airforce_power > 34 }
									}
									country_event = { id = mhc.20 }
								}
							}
						}
					}
				}
			}
		}
	}
}

mhc_raise_power_of_org_army = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_army_power = mhc_army_power }
		add_to_temp_variable = { temp_mhc_army_power = 1 }
		if = {
			limit = {
				check_variable = { temp_mhc_army_power < 101 }
			}
			add_to_variable = {
				var = mhc_army_power
				value = 1
			}
		}
	}
}

mhc_raise_power_of_org_army_target = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_army_power = mhc_army_power }
		add_to_temp_variable = { temp_mhc_army_power = temp_mhc_army_power_add_target }
		if = {
			limit = {
				check_variable = { temp_mhc_army_power < 101 }
			}
			add_to_variable = {
				var = mhc_army_power
				value = temp_mhc_army_power_add_target
			}
		}
		else_if = {
			limit = {
				check_variable = { temp_mhc_army_power > 100 }
			}
			set_variable = {
				var = mhc_army_power
				value = 100
			}
		}
	}
}

mhc_raise_power_of_org_airforce = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_airforce_power = mhc_airforce_power }
		add_to_temp_variable = { temp_mhc_airforce_power = 1 }
		if = {
			limit = {
				check_variable = { temp_mhc_airforce_power < 101 }
			}
			add_to_variable = {
				var = mhc_airforce_power
				value = 1
			}
		}
	}
}

mhc_raise_power_of_org_airforce_target = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_airforce_power = mhc_airforce_power }
		add_to_temp_variable = { temp_mhc_airforce_power = temp_mhc_airforce_power_add_target }
		if = {
			limit = {
				check_variable = { temp_mhc_airforce_power < 101 }
			}
			add_to_variable = {
				var = mhc_airforce_power
				value = temp_mhc_airforce_power_add_target
			}
		}
		else_if = {
			limit = {
				check_variable = { temp_mhc_airforce_power > 100 }
			}
			set_variable = {
				var = mhc_airforce_power
				value = 100
			}
		}
	}
}

mhc_raise_power_of_org_navy = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_navy_power = mhc_navy_power }
		add_to_temp_variable = { temp_mhc_navy_power = 1 }
		if = {
			limit = {
				check_variable = { temp_mhc_navy_power < 101 }
			}
			add_to_variable = {
				var = mhc_navy_power
				value = 1
			}
		}
	}
}

mhc_raise_power_of_org_navy_target = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_navy_power = mhc_navy_power }
		add_to_temp_variable = { temp_mhc_navy_power = temp_mhc_navy_power_add_target }
		if = {
			limit = {
				check_variable = { temp_mhc_navy_power < 101 }
			}
			add_to_variable = {
				var = mhc_navy_power
				value = temp_mhc_navy_power_add_target
			}
		}
		else_if = {
			limit = {
				check_variable = { temp_mhc_navy_power > 100 }
			}
			set_variable = {
				var = mhc_navy_power
				value = 100
			}
		}
	}
}

mhc_lower_power_of_org_army = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_army_power = mhc_army_power }
		subtract_from_temp_variable = { temp_mhc_army_power = 1 }
		if = {
			limit = {
				check_variable = { temp_mhc_army_power > 0 }
			}
			subtract_from_variable = {
				var = mhc_army_power
				value = 1
			}
		}
	}
}

mhc_lower_power_of_org_army_target = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_army_power = mhc_army_power }
		subtract_from_temp_variable = { temp_mhc_army_power = temp_mhc_army_power_subst_target }
		if = {
			limit = {
				check_variable = { temp_mhc_army_power > 0 }
			}
			subtract_from_variable = {
				var = mhc_army_power
				value = temp_mhc_army_power_subst_target
			}
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { temp_mhc_army_power < 0 }
					check_variable = { temp_mhc_army_power = 0 }
				}
			}
			set_variable = {
				var = mhc_army_power
				value = 1
			}
		}
	}
}

mhc_lower_power_of_org_airforce = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_airforce_power = mhc_airforce_power }
		subtract_from_temp_variable = { temp_mhc_airforce_power = 1 }
		if = {
			limit = {
				check_variable = { temp_mhc_airforce_power > 0 }
			}
			subtract_from_variable = {
				var = mhc_airforce_power
				value = 1
			}
		}
	}
}

mhc_lower_power_of_org_airforce_target = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_airforce_power = mhc_airforce_power }
		subtract_from_temp_variable = { temp_mhc_airforce_power = temp_mhc_airforce_power_subst_target }
		if = {
			limit = {
				check_variable = { temp_mhc_airforce_power > 0 }
			}
			subtract_from_variable = {
				var = mhc_airforce_power
				value = temp_mhc_airforce_power_subst_target
			}
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { temp_mhc_airforce_power < 0 }
					check_variable = { temp_mhc_airforce_power = 0 }
				}
			}
			set_variable = {
				var = mhc_airforce_power
				value = 1
			}
		}
	}
}

mhc_lower_power_of_org_navy = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_navy_power = mhc_navy_power }
		subtract_from_temp_variable = { temp_mhc_navy_power = 1 }
		if = {
			limit = {
				check_variable = { temp_mhc_navy_power > 0 }
			}
			subtract_from_variable = {
				var = mhc_navy_power
				value = 1
			}
		}
	}
}

mhc_lower_power_of_org_navy_target = {
	hidden_effect = {
		set_temp_variable = { temp_mhc_navy_power = mhc_navy_power }
		subtract_from_temp_variable = { temp_mhc_navy_power = temp_mhc_navy_power_subst_target }
		if = {
			limit = {
				check_variable = { temp_mhc_navy_power > 0 }
			}
			subtract_from_variable = {
				var = mhc_navy_power
				value = temp_mhc_navy_power_subst_target
			}
		}
		else_if = {
			limit = {
				OR = {
					check_variable = { temp_mhc_navy_power < 0 }
					check_variable = { temp_mhc_navy_power = 0 }
				}
			}
			set_variable = {
				var = mhc_navy_power
				value = 1
			}
		}
	}
}

mhc_raise_power_army = {
	hidden_effect = {
		#ROOT = {
			if = {
				limit = {
					has_variable = mhc_sec_power
					is_in_array = {
						array = local_mhc_active
						value = 1
					}
				}
				set_temp_variable = { temp_mhc_sec_power = mhc_sec_power }
				add_to_temp_variable = { temp_mhc_sec_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_sec_power < 101 }
					}
					add_to_variable = {
						var = mhc_sec_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_chief_power
					is_in_array = {
						array = local_mhc_active
						value = 2
					}
				}
				set_temp_variable = { temp_mhc_chief_power = mhc_chief_power }
				add_to_temp_variable = { temp_mhc_chief_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_chief_power < 101 }
					}
					add_to_variable = {
						var = mhc_chief_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_vchief_power
					is_in_array = {
						array = local_mhc_active
						value = 3
					}
				}
				set_temp_variable = { temp_mhc_vchief_power = mhc_vchief_power }
				add_to_temp_variable = { temp_mhc_vchief_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_vchief_power < 101 }
					}
					add_to_variable = {
						var = mhc_vchief_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_quart_power
					is_in_array = {
						array = local_mhc_active
						value = 4
					}
				}
				set_temp_variable = { temp_mhc_quart_power = mhc_quart_power }
				add_to_temp_variable = { temp_mhc_quart_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_quart_power < 101 }
					}
					add_to_variable = {
						var = mhc_quart_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_pchief_power
					is_in_array = {
						array = local_mhc_active
						value = 5
					}
				}
				set_temp_variable = { temp_mhc_pchief_power = mhc_pchief_power }
				add_to_temp_variable = { temp_mhc_pchief_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_pchief_power < 101 }
					}
					add_to_variable = {
						var = mhc_pchief_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_ins_power
					is_in_array = {
						array = local_mhc_active
						value = 6
					}
				}
				set_temp_variable = { temp_mhc_ins_power = mhc_ins_power }
				add_to_temp_variable = { temp_mhc_ins_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_ins_power < 101 }
					}
					add_to_variable = {
						var = mhc_ins_power
						value = 1
					}
				}
			}
			add_to_temp_array = { temp_mhc_army_pos = 1 }
			add_to_temp_array = { temp_mhc_army_pos = 2 }
			add_to_temp_array = { temp_mhc_army_pos = 3 }
			add_to_temp_array = { temp_mhc_army_pos = 4 }
			add_to_temp_array = { temp_mhc_army_pos = 5 }
			add_to_temp_array = { temp_mhc_army_pos = 6 }
			
			### Whole organisation
			if = {
				limit = {
					NOT = {
						has_country_flag = mhc_sec_unfit
						has_country_flag = mhc_chief_unfit
					}
					
					OR = {
						any_of = {
							array = temp_mhc_army_pos
							
							is_in_array = {
								array = local_mhc_active
								value = v
							}
						}
						any_of = {
							array = local_mhc_army_available_array
							
							is_in_array = {
								array = mhc_powerful_army_officials
								value = v
							}
						}
					}
				}
				mhc_raise_power_of_org_army = yes
				for_each_loop = {
					array = mhc_powerful_army_officials
					
					mhc_raise_power_of_org_army = yes
					mhc_raise_power_of_org_army = yes
				}
			}
		#}
	}
}

mhc_raise_power_airforce = {
	hidden_effect = {
		#ROOT = {
			if = {
				limit = {
					has_variable = mhc_afc_power
					is_in_array = {
						array = local_mhc_active
						value = 7
					}
				}
				set_temp_variable = { temp_mhc_afc_power = mhc_afc_power }
				add_to_temp_variable = { temp_mhc_afc_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_afc_power < 101 }
					}
					add_to_variable = {
						var = mhc_afc_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_ach_power
					is_in_array = {
						array = local_mhc_active
						value = 8
					}
				}
				set_temp_variable = { temp_mhc_ach_power = mhc_ach_power }
				add_to_temp_variable = { temp_mhc_ach_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_ach_power < 101 }
					}
					add_to_variable = {
						var = mhc_ach_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_opg_power
					is_in_array = {
						array = local_mhc_active
						value = 9
					}
				}
				set_temp_variable = { temp_mhc_opg_power = mhc_opg_power }
				add_to_temp_variable = { temp_mhc_opg_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_opg_power < 101 }
					}
					add_to_variable = {
						var = mhc_opg_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_wic_power
					is_in_array = {
						array = local_mhc_active
						value = 10
					}
				}
				set_temp_variable = { temp_mhc_wic_power = mhc_wic_power }
				add_to_temp_variable = { temp_mhc_wic_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_wic_power < 101 }
					}
					add_to_variable = {
						var = mhc_wic_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_supc_power
					is_in_array = {
						array = local_mhc_active
						value = 11
					}
				}
				set_temp_variable = { temp_mhc_supc_power = mhc_supc_power }
				add_to_temp_variable = { temp_mhc_supc_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_supc_power < 101 }
					}
					add_to_variable = {
						var = mhc_supc_power
						value = 1
					}
				}
			}
			add_to_temp_array = { temp_mhc_airforce_pos = 7 }
			add_to_temp_array = { temp_mhc_airforce_pos = 8 }
			add_to_temp_array = { temp_mhc_airforce_pos = 9 }
			add_to_temp_array = { temp_mhc_airforce_pos = 10 }
			add_to_temp_array = { temp_mhc_airforce_pos = 11 }
			
			### Whole organisation
			if = {
				limit = {
					NOT = {
						has_country_flag = mhc_afc_unfit
					}
					
					OR = {
						any_of = {
							array = temp_mhc_airforce_pos
							
							is_in_array = {
								array = local_mhc_active
								value = v
							}
						}
						any_of = {
							array = local_mhc_airforce_available_array
							
							is_in_array = {
								array = mhc_powerful_airforce_officials
								value = v
							}
						}
					}
				}
				mhc_raise_power_of_org_airforce = yes
				for_each_loop = {
					array = mhc_powerful_airforce_officials
					
					mhc_raise_power_of_org_airforce = yes
					mhc_raise_power_of_org_airforce = yes
				}
			}
		#}
	}
}

mhc_raise_power_navy = {
	hidden_effect = {
		#ROOT = {
			if = {
				limit = {
					has_variable = mhc_nas_power
					is_in_array = {
						array = local_mhc_active
						value = 12
					}
				}
				set_temp_variable = { temp_mhc_nas_power = mhc_nas_power }
				add_to_temp_variable = { temp_mhc_nas_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_nas_power < 101 }
					}
					add_to_variable = {
						var = mhc_nas_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_ncs_power
					is_in_array = {
						array = local_mhc_active
						value = 13
					}
				}
				set_temp_variable = { temp_mhc_ncs_power = mhc_ncs_power }
				add_to_temp_variable = { temp_mhc_ncs_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_ncs_power < 101 }
					}
					add_to_variable = {
						var = mhc_ncs_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_nog_power
					is_in_array = {
						array = local_mhc_active
						value = 14
					}
				}
				set_temp_variable = { temp_mhc_nog_power = mhc_nog_power }
				add_to_temp_variable = { temp_mhc_nog_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_nog_power < 101 }
					}
					add_to_variable = {
						var = mhc_nog_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_cog_power
					is_in_array = {
						array = local_mhc_active
						value = 15
					}
				}
				set_temp_variable = { temp_mhc_cog_power = mhc_cog_power }
				add_to_temp_variable = { temp_mhc_cog_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_cog_power < 101 }
					}
					add_to_variable = {
						var = mhc_cog_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_nlg_power
					is_in_array = {
						array = local_mhc_active
						value = 16
					}
				}
				set_temp_variable = { temp_mhc_nlg_power = mhc_nlg_power }
				add_to_temp_variable = { temp_mhc_nlg_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_nlg_power < 101 }
					}
					add_to_variable = {
						var = mhc_nlg_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_mog_power
					is_in_array = {
						array = local_mhc_active
						value = 17
					}
				}
				set_temp_variable = { temp_mhc_mog_power = mhc_mog_power }
				add_to_temp_variable = { temp_mhc_mog_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_mog_power < 101 }
					}
					add_to_variable = {
						var = mhc_mog_power
						value = 1
					}
				}
			}
			add_to_temp_array = { temp_mhc_navy_pos = 12 }
			add_to_temp_array = { temp_mhc_navy_pos = 13 }
			add_to_temp_array = { temp_mhc_navy_pos = 14 }
			add_to_temp_array = { temp_mhc_navy_pos = 15 }
			add_to_temp_array = { temp_mhc_navy_pos = 16 }
			add_to_temp_array = { temp_mhc_navy_pos = 17 }
			
			### Whole organisation
			if = {
				limit = {
					NOT = {
						has_country_flag = mhc_nas_unfit
						has_country_flag = mhc_ncs_unfit
					}
					
					OR = {
						any_of = {
							array = temp_mhc_navy_pos
							
							is_in_array = {
								array = local_mhc_active
								value = v
							}
						}
						any_of = {
							array = local_mhc_navy_available_array
							
							is_in_array = {
								array = mhc_powerful_navy_officials
								value = v
							}
						}
					}
				}
				mhc_raise_power_of_org_navy = yes
				for_each_loop = {
					array = mhc_powerful_navy_officials
					
					mhc_raise_power_of_org_navy = yes
					mhc_raise_power_of_org_navy = yes
				}
			}
		#}
	}
}

mhc_lower_power_army = {
	hidden_effect = {
		#ROOT = {
			if = {
				limit = {
					has_variable = mhc_sec_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 1
						}
					}
				}
				set_temp_variable = { temp_mhc_sec_power = mhc_sec_power }
				subtract_from_temp_variable = { temp_mhc_sec_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_sec_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_sec_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_chief_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 2
						}
					}
				}
				set_temp_variable = { temp_mhc_chief_power = mhc_chief_power }
				subtract_from_temp_variable = { temp_mhc_chief_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_chief_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_chief_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_vchief_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 3
						}
					}
				}
				set_temp_variable = { temp_mhc_vchief_power = mhc_vchief_power }
				subtract_from_temp_variable = { temp_mhc_vchief_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_vchief_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_vchief_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_quart_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 4
						}
					}
				}
				set_temp_variable = { temp_mhc_quart_power = mhc_quart_power }
				subtract_from_temp_variable = { temp_mhc_quart_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_quart_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_quart_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_pchief_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 5
						}
					}
				}
				set_temp_variable = { temp_mhc_pchief_power = mhc_pchief_power }
				subtract_from_temp_variable = { temp_mhc_pchief_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_pchief_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_pchief_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_ins_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 6
						}
					}
				}
				set_temp_variable = { temp_mhc_ins_power = mhc_ins_power }
				subtract_from_temp_variable = { temp_mhc_ins_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_ins_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_ins_power
						value = 1
					}
				}
			}
			add_to_temp_array = { temp_mhc_army_pos = 1 }
			add_to_temp_array = { temp_mhc_army_pos = 2 }
			add_to_temp_array = { temp_mhc_army_pos = 3 }
			add_to_temp_array = { temp_mhc_army_pos = 4 }
			add_to_temp_array = { temp_mhc_army_pos = 5 }
			add_to_temp_array = { temp_mhc_army_pos = 6 }
			
			### Whole organisation
			if = {
				limit = {
					OR = {
						OR = {
							has_country_flag = mhc_sec_unfit
							has_country_flag = mhc_chief_unfit
						}
						
						NOT = {
							OR = {
								any_of = {
									array = temp_mhc_army_pos
									
									is_in_array = {
										array = local_mhc_active
										value = v
									}
								}
								any_of = {
									array = local_mhc_army_available_array
									
									is_in_array = {
										array = mhc_powerful_army_officials
										value = v
									}
								}
							}
						}
					}
				}
				set_temp_variable = { temp_mhc_army_power = mhc_army_power }
				subtract_from_temp_variable = { temp_mhc_army_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_army_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_army_power
						value = 1
					}
				}
			}
		#}
	}
}

mhc_lower_power_airforce = {
	hidden_effect = {
		#ROOT = {
			if = {
				limit = {
					has_variable = mhc_afc_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 7
						}
					}
				}
				set_temp_variable = { temp_mhc_afc_power = mhc_afc_power }
				subtract_from_temp_variable = { temp_mhc_afc_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_afc_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_afc_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_ach_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 8
						}
					}
				}
				set_temp_variable = { temp_mhc_ach_power = mhc_ach_power }
				subtract_from_temp_variable = { temp_mhc_ach_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_ach_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_ach_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_opg_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 9
						}
					}
				}
				set_temp_variable = { temp_mhc_opg_power = mhc_opg_power }
				subtract_from_temp_variable = { temp_mhc_opg_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_opg_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_opg_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_wic_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 10
						}
					}
				}
				set_temp_variable = { temp_mhc_wic_power = mhc_wic_power }
				subtract_from_temp_variable = { temp_mhc_wic_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_wic_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_wic_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_supc_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 11
						}
					}
				}
				set_temp_variable = { temp_mhc_supc_power = mhc_supc_power }
				subtract_from_temp_variable = { temp_mhc_supc_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_supc_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_supc_power
						value = 1
					}
				}
			}
			add_to_temp_array = { temp_mhc_airforce_pos = 7 }
			add_to_temp_array = { temp_mhc_airforce_pos = 8 }
			add_to_temp_array = { temp_mhc_airforce_pos = 9 }
			add_to_temp_array = { temp_mhc_airforce_pos = 10 }
			add_to_temp_array = { temp_mhc_airforce_pos = 11 }
			
			### Whole organisation
			if = {
				limit = {
					OR = {
						#OR = {
							has_country_flag = mhc_afc_unfit
						#}
						
						NOT = {
							OR = {
								any_of = {
									array = temp_mhc_airforce_pos
									
									is_in_array = {
										array = local_mhc_active
										value = v
									}
								}
								any_of = {
									array = local_mhc_airforce_available_array
									
									is_in_array = {
										array = mhc_powerful_airforce_officials
										value = v
									}
								}
							}
						}
					}
				}
				set_temp_variable = { temp_mhc_airforce_power = mhc_airforce_power }
				subtract_from_temp_variable = { temp_mhc_airforce_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_airforce_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_airforce_power
						value = 1
					}
				}
			}
		#}
	}
}

mhc_lower_power_navy = {
	hidden_effect = {
		#ROOT = {
			if = {
				limit = {
					has_variable = mhc_nas_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 12
						}
					}
				}
				set_temp_variable = { temp_mhc_nas_power = mhc_nas_power }
				subtract_from_temp_variable = { temp_mhc_nas_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_nas_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_nas_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_ncs_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 13
						}
					}
				}
				set_temp_variable = { temp_mhc_ncs_power = mhc_ncs_power }
				subtract_from_temp_variable = { temp_mhc_ncs_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_ncs_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_ncs_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_nog_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 14
						}
					}
				}
				set_temp_variable = { temp_mhc_nog_power = mhc_nog_power }
				subtract_from_temp_variable = { temp_mhc_nog_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_nog_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_nog_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_cog_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 15
						}
					}
				}
				set_temp_variable = { temp_mhc_cog_power = mhc_cog_power }
				subtract_from_temp_variable = { temp_mhc_cog_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_cog_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_cog_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_nlg_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 16
						}
					}
				}
				set_temp_variable = { temp_mhc_nlg_power = mhc_nlg_power }
				subtract_from_temp_variable = { temp_mhc_nlg_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_nlg_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_nlg_power
						value = 1
					}
				}
			}
			if = {
				limit = {
					has_variable = mhc_mog_power
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = 17
						}
					}
				}
				set_temp_variable = { temp_mhc_mog_power = mhc_mog_power }
				subtract_from_temp_variable = { temp_mhc_mog_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_mog_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_mog_power
						value = 1
					}
				}
			}
			add_to_temp_array = { temp_mhc_navy_pos = 12 }
			add_to_temp_array = { temp_mhc_navy_pos = 13 }
			add_to_temp_array = { temp_mhc_navy_pos = 14 }
			add_to_temp_array = { temp_mhc_navy_pos = 15 }
			add_to_temp_array = { temp_mhc_navy_pos = 16 }
			add_to_temp_array = { temp_mhc_navy_pos = 17 }
			
			### Whole organisation
			if = {
				limit = {
					OR = {
						OR = {
							has_country_flag = mhc_nas_unfit
							has_country_flag = mhc_ncs_unfit
						}
						
						NOT = {
							OR = {
								any_of = {
									array = temp_mhc_navy_pos
									
									is_in_array = {
										array = local_mhc_active
										value = v
									}
								}
								any_of = {
									array = local_mhc_navy_available_array
									
									is_in_array = {
										array = mhc_powerful_navy_officials
										value = v
									}
								}
							}
						}
					}
				}
				set_temp_variable = { temp_mhc_navy_power = mhc_navy_power }
				subtract_from_temp_variable = { temp_mhc_navy_power = 1 }
				if = {
					limit = {
						check_variable = { temp_mhc_navy_power > 0 }
					}
					subtract_from_variable = {
						var = mhc_navy_power
						value = 1
					}
				}
			}
		#}
	}
}

mhc_get_results_army = {
	hidden_effect = {
		#ROOT = {
			set_temp_variable = { temp_mhc_result_first_factor = -0.05 }
			set_temp_variable = { temp_mhc_result_second_factor = 0 }
			
			if = {
				limit = {
					check_variable = { mhc_chief_power > mhc_sec_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_vchief_power > mhc_chief_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_quart_power > mhc_vchief_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_pchief_power > mhc_chief_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_ins_power > mhc_pchief_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			
			if = {
				limit = {
					NOT = {
						has_variable = local_mhc_disorganized_general_army
					}
				}
				set_variable = { local_mhc_disorganized_general_army = 0 }
			}
			
			multiply_temp_variable = { temp_mhc_result_first_factor = temp_mhc_result_second_factor }
			set_variable = { local_mhc_disorganized_general_army = temp_mhc_result_first_factor }
			
			if = {
				limit = {
					NOT = {
						has_dynamic_modifier = { modifier = mhc_disorganized_modifier_army }
					}
					check_variable = { local_mhc_disorganized_general_army < 0 }
				}
				add_dynamic_modifier = { modifier = mhc_disorganized_modifier_army }
			}
			else_if = {
				limit = {
					has_dynamic_modifier = { modifier = mhc_disorganized_modifier_army }
					NOT = {
						check_variable = { local_mhc_disorganized_general_army < 0 }
					}
				}
				remove_dynamic_modifier = { modifier = mhc_disorganized_modifier_army }
			}
		#}
	}
}

mhc_get_results_airforce = {
	hidden_effect = {
		#ROOT = {
			set_temp_variable = { temp_mhc_result_first_factor = -0.05 }
			set_temp_variable = { temp_mhc_result_second_factor = 0 }
			
			if = {
				limit = {
					check_variable = { mhc_ach_power > mhc_afc_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_opg_power > mhc_ach_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_supc_power > mhc_opg_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_supc_power > mhc_opg_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			
			if = {
				limit = {
					NOT = {
						has_variable = local_mhc_disorganized_general_airforce
					}
				}
				set_variable = { local_mhc_disorganized_general_airforce = 0 }
			}
			if = {
				limit = {
					NOT = {
						has_variable = local_mhc_disorganized_general_airforce2
					}
				}
				set_variable = { local_mhc_disorganized_general_airforce2 = 0 }
			}
			
			multiply_temp_variable = { temp_mhc_result_first_factor = temp_mhc_result_second_factor }
			set_variable = { local_mhc_disorganized_general_airforce = temp_mhc_result_first_factor }
			set_variable = { local_mhc_disorganized_general_airforce2 = temp_mhc_result_first_factor }
			multiply_temp_variable = { local_mhc_disorganized_general_airforce2 = -1 }
			
			if = {
				limit = {
					NOT = {
						has_dynamic_modifier = { modifier = mhc_disorganized_modifier_airforce }
					}
					check_variable = { local_mhc_disorganized_general_airforce < 0 }
				}
				add_dynamic_modifier = { modifier = mhc_disorganized_modifier_airforce }
			}
			else_if = {
				limit = {
					has_dynamic_modifier = { modifier = mhc_disorganized_modifier_airforce }
					NOT = {
						check_variable = { local_mhc_disorganized_general_airforce < 0 }
					}
				}
				remove_dynamic_modifier = { modifier = mhc_disorganized_modifier_airforce }
			}
		#}
	}
}

mhc_get_results_navy = {
	hidden_effect = {
		#ROOT = {
			set_temp_variable = { temp_mhc_result_first_factor = -0.05 }
			set_temp_variable = { temp_mhc_result_second_factor = 0 }
			
			if = {
				limit = {
					check_variable = { mhc_ncs_power > mhc_nas_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_nog_power > mhc_ncs_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_cog_power > mhc_ncs_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_nlg_power > mhc_ncs_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			if = {
				limit = {
					check_variable = { mhc_mog_power > mhc_cog_power }
				}
				add_to_temp_variable = {
					var = temp_mhc_result_second_factor
					value = 1
				}
			}
			
			if = {
				limit = {
					NOT = {
						has_variable = local_mhc_disorganized_general_navy
					}
				}
				set_variable = { local_mhc_disorganized_general_navy = 0 }
			}
			
			multiply_temp_variable = { temp_mhc_result_first_factor = temp_mhc_result_second_factor }
			set_variable = { local_mhc_disorganized_general_navy = temp_mhc_result_first_factor }
			
			if = {
				limit = {
					NOT = {
						has_dynamic_modifier = { modifier = mhc_disorganized_modifier_navy }
					}
					check_variable = { local_mhc_disorganized_general_navy < 0 }
				}
				add_dynamic_modifier = { modifier = mhc_disorganized_modifier_navy }
			}
			else_if = {
				limit = {
					has_dynamic_modifier = { modifier = mhc_disorganized_modifier_navy }
					NOT = {
						check_variable = { local_mhc_disorganized_general_navy < 0 }
					}
				}
				remove_dynamic_modifier = { modifier = mhc_disorganized_modifier_navy }
			}
		#}
	}
}

mhc_get_results_effects_army = {
	hidden_effect = {
		#ROOT = {
			mhc_get_results_effects_add_powerful_positions_army = yes
			mhc_get_results_effects_remove_powerful_positions_army = yes
		#}
	}
}

mhc_get_results_effects_navy = {
	hidden_effect = {
		#ROOT = {
			mhc_get_results_effects_add_powerful_positions_navy = yes
			mhc_get_results_effects_remove_powerful_positions_navy = yes
		#}
	}
}

mhc_get_results_effects_airforce = {
	hidden_effect = {
		#ROOT = {
			mhc_get_results_effects_add_powerful_positions_airforce = yes
			mhc_get_results_effects_remove_powerful_positions_airforce = yes
		#}
	}
}

mhc_get_results_effects_add_powerful_positions_army = {
	hidden_effect = {
		#ROOT = {
			#add
			if = {
				limit = {
					check_variable = { mhc_sec_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_army_officials
							value = mhc_sec_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_army_officials
					value = mhc_sec_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_chief_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_army_officials
							value = mhc_chief_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_army_officials
					value = mhc_chief_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_vchief_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_army_officials
							value = mhc_vchief_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_army_officials
					value = mhc_vchief_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_quart_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_army_officials
							value = mhc_quart_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_army_officials
					value = mhc_quart_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_pchief_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_army_officials
							value = mhc_pchief_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_army_officials
					value = mhc_pchief_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_ins_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_army_officials
							value = mhc_ins_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_army_officials
					value = mhc_ins_value
				}
			}
		#}
	}
}

mhc_get_results_effects_add_powerful_positions_airforce = {
	hidden_effect = {
		#ROOT = {
			#add
			if = {
				limit = {
					check_variable = { mhc_afc_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_airforce_officials
							value = mhc_afc_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_afc_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_ach_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_airforce_officials
							value = mhc_ach_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_ach_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_opg_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_airforce_officials
							value = mhc_opg_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_opg_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_supc_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_airforce_officials
							value = mhc_supc_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_supc_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_supc_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_airforce_officials
							value = mhc_supc_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_supc_value
				}
			}
		#}
	}
}

mhc_get_results_effects_add_powerful_positions_navy = {
	hidden_effect = {
		#ROOT = {
			#add
			if = {
				limit = {
					check_variable = { mhc_nas_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_navy_officials
							value = mhc_nas_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_navy_officials
					value = mhc_nas_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_ncs_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_navy_officials
							value = mhc_ncs_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_navy_officials
					value = mhc_ncs_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_nog_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_navy_officials
							value = mhc_nog_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_navy_officials
					value = mhc_nog_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_cog_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_navy_officials
							value = mhc_cog_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_navy_officials
					value = mhc_cog_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_nlg_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_navy_officials
							value = mhc_nlg_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_navy_officials
					value = mhc_nlg_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_mog_power > 49 }
					NOT = {
						is_in_array = {
							array = mhc_powerful_navy_officials
							value = mhc_mog_value
						}
					}
				}
				add_to_array = {
					array = mhc_powerful_navy_officials
					value = mhc_mog_value
				}
			}
		#}
	}
}

mhc_get_results_effects_remove_powerful_positions_army = {
	hidden_effect = {
		#ROOT = {
			#add
			if = {
				limit = {
					check_variable = { mhc_sec_power < 50 }
					is_in_array = {
						array = mhc_powerful_army_officials
						value = mhc_sec_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_army_officials
					value = mhc_sec_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_chief_power < 50 }
					is_in_array = {
						array = mhc_powerful_army_officials
						value = mhc_chief_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_army_officials
					value = mhc_chief_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_vchief_power < 50 }
					is_in_array = {
						array = mhc_powerful_army_officials
						value = mhc_vchief_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_army_officials
					value = mhc_vchief_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_quart_power < 50 }
					is_in_array = {
						array = mhc_powerful_army_officials
						value = mhc_quart_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_army_officials
					value = mhc_quart_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_pchief_power < 50 }
					is_in_array = {
						array = mhc_powerful_army_officials
						value = mhc_pchief_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_army_officials
					value = mhc_pchief_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_ins_power < 50 }
					is_in_array = {
						array = mhc_powerful_army_officials
						value = mhc_ins_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_army_officials
					value = mhc_ins_value
				}
			}
		#}
	}
}

mhc_get_results_effects_remove_powerful_positions_airforce = {
	hidden_effect = {
		#ROOT = {
			#add
			if = {
				limit = {
					check_variable = { mhc_afc_power < 50 }
					is_in_array = {
						array = mhc_powerful_airforce_officials
						value = mhc_afc_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_afc_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_ach_power < 50 }
					is_in_array = {
						array = mhc_powerful_airforce_officials
						value = mhc_ach_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_ach_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_opg_power < 50 }
					is_in_array = {
						array = mhc_powerful_airforce_officials
						value = mhc_opg_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_opg_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_supc_power < 50 }
					is_in_array = {
						array = mhc_powerful_airforce_officials
						value = mhc_supc_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_supc_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_supc_power < 50 }
					is_in_array = {
						array = mhc_powerful_airforce_officials
						value = mhc_supc_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_airforce_officials
					value = mhc_supc_value
				}
			}
		#}
	}
}

mhc_get_results_effects_remove_powerful_positions_navy = {
	hidden_effect = {
		#ROOT = {
			#add
			if = {
				limit = {
					check_variable = { mhc_nas_power < 50 }
					is_in_array = {
						array = mhc_powerful_navy_officials
						value = mhc_nas_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_navy_officials
					value = mhc_nas_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_ncs_power < 50 }
					is_in_array = {
						array = mhc_powerful_navy_officials
						value = mhc_ncs_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_navy_officials
					value = mhc_ncs_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_nog_power < 50 }
					is_in_array = {
						array = mhc_powerful_navy_officials
						value = mhc_nog_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_navy_officials
					value = mhc_nog_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_cog_power < 50 }
					is_in_array = {
						array = mhc_powerful_navy_officials
						value = mhc_cog_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_navy_officials
					value = mhc_cog_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_nlg_power < 50 }
					is_in_array = {
						array = mhc_powerful_navy_officials
						value = mhc_nlg_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_navy_officials
					value = mhc_nlg_value
				}
			}
			if = {
				limit = {
					check_variable = { mhc_mog_power < 50 }
					is_in_array = {
						array = mhc_powerful_navy_officials
						value = mhc_mog_value
					}
				}
				remove_from_array = {
					array = mhc_powerful_navy_officials
					value = mhc_mog_value
				}
			}
		#}
	}
}

mhc_add_sec = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_sec_value
				}
				add_political_power = -50
				set_variable = { mhc_sec_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_sec_value
					}
				}
				set_variable = { mhc_sec_value = mhc_add_sec_target }
			}
			else = {
				mhc_clear_sec = yes
				set_variable = { mhc_sec_value = mhc_add_sec_target }
			}
			if = {
				limit = {
					has_variable = local_mhc_high_army_available_array^0
					NOT = {
						is_in_array = {
							array = local_mhc_high_army_available_array
							value = mhc_add_sec_target
						}
					}
				}
				set_country_flag = mhc_sec_unfit
			}
			else_if = {
				limit = {
					has_country_flag = mhc_sec_unfit
					has_variable = local_mhc_high_army_available_array^0
					is_in_array = {
						array = local_mhc_high_army_available_array
						value = mhc_add_sec_target
					}
				}
				clr_country_flag = mhc_sec_unfit
			}
			set_variable = { mhc_sec_power = 1 }
		}
	}
}

mhc_add_chief = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_chief_value
				}
				add_political_power = -50
				set_variable = { mhc_chief_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_chief_value
					}
				}
				set_variable = { mhc_chief_value = mhc_add_chief_target }
			}
			else = {
				mhc_clear_chief = yes
				set_variable = { mhc_chief_value = mhc_add_chief_target }
			}
			if = {
				limit = {
					has_variable = local_mhc_high_army_available_array^0
					NOT = {
						is_in_array = {
							array = local_mhc_high_army_available_array
							value = mhc_add_chief_target
						}
					}
				}
				set_country_flag = mhc_chief_unfit
			}
			else_if = {
				limit = {
					has_country_flag = mhc_chief_unfit
					has_variable = local_mhc_high_army_available_array^0
					is_in_array = {
						array = local_mhc_high_army_available_array
						value = mhc_add_chief_target
					}
				}
				clr_country_flag = mhc_chief_unfit
			}
			set_variable = { mhc_chief_power = 1 }
		}
	}
}

mhc_add_vchief = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_vchief_value
				}
				add_political_power = -50
				set_variable = { mhc_vchief_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_vchief_value
					}
				}
				set_variable = { mhc_vchief_value = mhc_add_vchief_target }
			}
			else = {
				mhc_clear_vchief = yes
				set_variable = { mhc_vchief_value = mhc_add_vchief_target }
			}
			set_variable = { mhc_vchief_power = 1 }
		}
	}
}

mhc_add_quart = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_quart_value
				}
				add_political_power = -50
				set_variable = { mhc_quart_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_quart_value
					}
				}
				set_variable = { mhc_quart_value = mhc_add_quart_target }
			}
			else = {
				mhc_clear_quart = yes
				set_variable = { mhc_quart_value = mhc_add_quart_target }
			}
			set_variable = { mhc_quart_power = 1 }
		}
	}
}

mhc_add_pchief = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_pchief_value
				}
				add_political_power = -50
				set_variable = { mhc_pchief_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_pchief_value
					}
				}
				set_variable = { mhc_pchief_value = mhc_add_pchief_target }
			}
			else = {
				mhc_clear_pchief = yes
				set_variable = { mhc_pchief_value = mhc_add_pchief_target }
			}
			set_variable = { mhc_pchief_power = 1 }
		}
	}
}

mhc_add_ins = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_ins_value
				}
				add_political_power = -50
				set_variable = { mhc_ins_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_ins_value
					}
				}
				set_variable = { mhc_ins_value = mhc_add_ins_target }
			}
			else = {
				mhc_clear_ins = yes
				set_variable = { mhc_ins_value = mhc_add_ins_target }
			}
			set_variable = { mhc_ins_power = 1 }
		}
	}
}

mhc_add_afc = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_afc_value
				}
				add_political_power = -50
				set_variable = { mhc_afc_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_afc_value
					}
				}
				set_variable = { mhc_afc_value = mhc_add_afc_target }
			}
			else = {
				mhc_clear_afc = yes
				set_variable = { mhc_afc_value = mhc_add_afc_target }
			}
			if = {
				limit = {
					has_variable = local_mhc_high_airforce_available_array^0
					NOT = {
						is_in_array = {
							array = local_mhc_high_airforce_available_array
							value = mhc_add_afc_target
						}
					}
				}
				set_country_flag = mhc_afc_unfit
			}
			else_if = {
				limit = {
					has_country_flag = mhc_afc_unfit
					has_variable = local_mhc_high_airforce_available_array^0
					is_in_array = {
						array = local_mhc_high_airforce_available_array
						value = mhc_add_afc_target
					}
				}
				clr_country_flag = mhc_afc_unfit
			}
			set_variable = { mhc_afc_power = 1 }
		}
	}
}

mhc_add_ach = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_ach_value
				}
				add_political_power = -50
				set_variable = { mhc_ach_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_ach_value
					}
				}
				set_variable = { mhc_ach_value = mhc_add_ach_target }
			}
			else = {
				mhc_clear_ach = yes
				set_variable = { mhc_ach_value = mhc_add_ach_target }
			}
			set_variable = { mhc_ach_power = 1 }
		}
	}
}

mhc_add_opg = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_opg_value
				}
				add_political_power = -50
				set_variable = { mhc_opg_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_opg_value
					}
				}
				set_variable = { mhc_opg_value = mhc_add_opg_target }
			}
			else = {
				mhc_clear_opg = yes
				set_variable = { mhc_opg_value = mhc_add_opg_target }
			}
			set_variable = { mhc_opg_power = 1 }
		}
	}
}

mhc_add_wic = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_wic_value
				}
				add_political_power = -50
				set_variable = { mhc_wic_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_wic_value
					}
				}
				set_variable = { mhc_wic_value = mhc_add_wic_target }
			}
			else = {
				mhc_clear_wic = yes
				set_variable = { mhc_wic_value = mhc_add_wic_target }
			}
			set_variable = { mhc_wic_power = 1 }
		}
	}
}

mhc_add_supc = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_supc_value
				}
				add_political_power = -50
				set_variable = { mhc_supc_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_supc_value
					}
				}
				set_variable = { mhc_supc_value = mhc_add_supc_target }
			}
			else = {
				mhc_clear_supc = yes
				set_variable = { mhc_supc_value = mhc_add_supc_target }
			}
			set_variable = { mhc_supc_power = 1 }
		}
	}
}

mhc_add_nas = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_nas_value
				}
				add_political_power = -50
				set_variable = { mhc_nas_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_nas_value
					}
				}
				set_variable = { mhc_nas_value = mhc_add_nas_target }
			}
			else = {
				mhc_clear_nas = yes
				set_variable = { mhc_nas_value = mhc_add_nas_target }
			}
			if = {
				limit = {
					has_variable = local_mhc_high_navy_available_array^0
					NOT = {
						is_in_array = {
							array = local_mhc_high_navy_available_array
							value = mhc_add_nas_target
						}
					}
				}
				set_country_flag = mhc_nas_unfit
			}
			else_if = {
				limit = {
					has_country_flag = mhc_nas_unfit
					has_variable = local_mhc_high_navy_available_array^0
					is_in_array = {
						array = local_mhc_high_navy_available_array
						value = mhc_add_nas_target
					}
				}
				clr_country_flag = mhc_nas_unfit
			}
			set_variable = { mhc_nas_power = 1 }
		}
	}
}

mhc_add_ncs = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_ncs_value
				}
				add_political_power = -50
				set_variable = { mhc_ncs_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_ncs_value
					}
				}
				set_variable = { mhc_ncs_value = mhc_add_ncs_target }
			}
			else = {
				mhc_clear_ncs = yes
				set_variable = { mhc_ncs_value = mhc_add_ncs_target }
			}
			if = {
				limit = {
					has_variable = local_mhc_high_navy_available_array^0
					NOT = {
						is_in_array = {
							array = local_mhc_high_navy_available_array
							value = mhc_add_ncs_target
						}
					}
				}
				set_country_flag = mhc_ncs_unfit
			}
			else_if = {
				limit = {
					has_country_flag = mhc_ncs_unfit
					has_variable = local_mhc_high_navy_available_array^0
					is_in_array = {
						array = local_mhc_high_navy_available_array
						value = mhc_add_ncs_target
					}
				}
				clr_country_flag = mhc_ncs_unfit
			}
			set_variable = { mhc_ncs_power = 1 }
		}
	}
}

mhc_add_nog = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_nog_value
				}
				add_political_power = -50
				set_variable = { mhc_nog_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_nog_value
					}
				}
				set_variable = { mhc_nog_value = mhc_add_nog_target }
			}
			else = {
				mhc_clear_nog = yes
				set_variable = { mhc_nog_value = mhc_add_nog_target }
			}
			set_variable = { mhc_nog_power = 1 }
		}
	}
}

mhc_add_cog = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_cog_value
				}
				add_political_power = -50
				set_variable = { mhc_cog_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_cog_value
					}
				}
				set_variable = { mhc_cog_value = mhc_add_cog_target }
			}
			else = {
				mhc_clear_cog = yes
				set_variable = { mhc_cog_value = mhc_add_cog_target }
			}
			set_variable = { mhc_cog_power = 1 }
		}
	}
}

mhc_add_nlg = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_nlg_value
				}
				add_political_power = -50
				set_variable = { mhc_nlg_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_nlg_value
					}
				}
				set_variable = { mhc_nlg_value = mhc_add_nlg_target }
			}
			else = {
				mhc_clear_nlg = yes
				set_variable = { mhc_nlg_value = mhc_add_nlg_target }
			}
			set_variable = { mhc_nlg_power = 1 }
		}
	}
}

mhc_add_mog = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_mog_value
				}
				add_political_power = -50
				set_variable = { mhc_mog_power = 1 }
				mhc_get_results_effects_collector = yes
			}
			#if = {
			#	limit = {
			#		is_ai = no
			#	}
			#	scoped_sound_effect = "assign_leader"
			#}
			set_variable = { show_local_mhc_selector = 0 }
			if = {
				limit = {
					NOT = {
						has_variable = mhc_mog_value
					}
				}
				set_variable = { mhc_mog_value = mhc_add_mog_target }
			}
			else = {
				mhc_clear_mog = yes
				set_variable = { mhc_mog_value = mhc_add_mog_target }
			}
			set_variable = { mhc_mog_power = 1 }
		}
	}
}

mhc_clear_afc = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_afc_value
				}
				set_temp_variable = { mhc_deactivate_target = 7 }
				mhc_deactivate = yes
				clear_variable = mhc_afc_value
			}
			if = {
				limit = {
					has_country_flag = mhc_afc_unfit
				}
				clr_country_flag = mhc_afc_unfit
			}
		}
	}
}

mhc_clear_ach = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_ach_value
				}
				set_temp_variable = { mhc_deactivate_target = 8 }
				mhc_deactivate = yes
				clear_variable = mhc_ach_value
			}
		}
	}
}

mhc_clear_opg = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_opg_value
				}
				set_temp_variable = { mhc_deactivate_target = 9 }
				mhc_deactivate = yes
				clear_variable = mhc_opg_value
			}
		}
	}
}

mhc_clear_wic = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_wic_value
				}
				set_temp_variable = { mhc_deactivate_target = 10 }
				mhc_deactivate = yes
				clear_variable = mhc_wic_value
			}
		}
	}
}

mhc_clear_supc = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_supc_value
				}
				set_temp_variable = { mhc_deactivate_target = 11 }
				mhc_deactivate = yes
				clear_variable = mhc_supc_value
			}
		}
	}
}

mhc_clear_sec = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_sec_value
				}
				set_temp_variable = { mhc_deactivate_target = 1 }
				mhc_deactivate = yes
				clear_variable = mhc_sec_value
			}
			if = {
				limit = {
					has_country_flag = mhc_sec_unfit
				}
				clr_country_flag = mhc_sec_unfit
			}
		}
	}
}

mhc_clear_chief = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_chief_value
				}
				set_temp_variable = { mhc_deactivate_target = 2 }
				mhc_deactivate = yes
				clear_variable = mhc_chief_value
			}
			if = {
				limit = {
					has_country_flag = mhc_chief_unfit
				}
				clr_country_flag = mhc_chief_unfit
			}
		}
	}
}

mhc_clear_vchief = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_vchief_value
				}
				set_temp_variable = { mhc_deactivate_target = 3 }
				mhc_deactivate = yes
				clear_variable = mhc_vchief_value
			}
		}
	}
}

mhc_clear_quart = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_quart_value
				}
				set_temp_variable = { mhc_deactivate_target = 4 }
				mhc_deactivate = yes
				clear_variable = mhc_quart_value
			}
		}
	}
}

mhc_clear_pchief = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_pchief_value
				}
				set_temp_variable = { mhc_deactivate_target = 5 }
				mhc_deactivate = yes
				clear_variable = mhc_pchief_value
			}
		}
	}
}

mhc_clear_ins = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_ins_value
				}
				set_temp_variable = { mhc_deactivate_target = 6 }
				mhc_deactivate = yes
				clear_variable = mhc_ins_value
			}
		}
	}
}

mhc_clear_nas = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_nas_value
				}
				set_temp_variable = { mhc_deactivate_target = 12 }
				mhc_deactivate = yes
				clear_variable = mhc_nas_value
			}
			if = {
				limit = {
					has_country_flag = mhc_nas_unfit
				}
				clr_country_flag = mhc_nas_unfit
			}
		}
	}
}

mhc_clear_ncs = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_ncs_value
				}
				set_temp_variable = { mhc_deactivate_target = 13 }
				mhc_deactivate = yes
				clear_variable = mhc_ncs_value
			}
			if = {
				limit = {
					has_country_flag = mhc_ncs_unfit
				}
				clr_country_flag = mhc_ncs_unfit
			}
		}
	}
}

mhc_clear_nog = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_nog_value
				}
				set_temp_variable = { mhc_deactivate_target = 14 }
				mhc_deactivate = yes
				clear_variable = mhc_nog_value
			}
		}
	}
}

mhc_clear_cog = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_cog_value
				}
				set_temp_variable = { mhc_deactivate_target = 15 }
				mhc_deactivate = yes
				clear_variable = mhc_cog_value
			}
		}
	}
}

mhc_clear_nlg = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_nlg_value
				}
				set_temp_variable = { mhc_deactivate_target = 16 }
				mhc_deactivate = yes
				clear_variable = mhc_nlg_value
			}
		}
	}
}

mhc_clear_mog = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					has_variable = mhc_mog_value
				}
				set_temp_variable = { mhc_deactivate_target = 17 }
				mhc_deactivate = yes
				clear_variable = mhc_mog_value
			}
		}
	}
}

mhc_activate = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					NOT = {
						is_in_array = {
							array = local_mhc_active
							value = mhc_activate_target
						}
					}
				}
				add_to_array = {
					array = local_mhc_active
					value = mhc_activate_target
				}
				mhc_activate_idea = yes
			}
		}
	}
}

mhc_deactivate = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					is_in_array = {
						array = local_mhc_active
						value = mhc_deactivate_target
					}
				}
				mhc_deactivate_idea = yes
				remove_from_array = {
					array = local_mhc_active
					value = mhc_deactivate_target
				}
			}
		}
	}
}

mhc_activate_idea = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					check_variable = { mhc_activate_target = 1 }
				}
				if = {
					limit = {
						has_variable = mhc_sec_value
					}
					set_temp_variable = { minister = mhc_sec_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 2 }
				}
				if = {
					limit = {
						has_variable = mhc_chief_value
					}
					set_temp_variable = { minister = mhc_chief_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 3 }
				}
				if = {
					limit = {
						has_variable = mhc_vchief_value
					}
					set_temp_variable = { minister = mhc_vchief_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 4 }
				}
				if = {
					limit = {
						has_variable = mhc_quart_value
					}
					set_temp_variable = { minister = mhc_quart_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 5 }
				}
				if = {
					limit = {
						has_variable = mhc_pchief_value
					}
					set_temp_variable = { minister = mhc_pchief_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 6 }
				}
				if = {
					limit = {
						has_variable = mhc_ins_value
					}
					set_temp_variable = { minister = mhc_ins_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 7 }
				}
				if = {
					limit = {
						has_variable = mhc_afc_value
					}
					set_temp_variable = { minister = mhc_afc_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 8 }
				}
				if = {
					limit = {
						has_variable = mhc_ach_value
					}
					set_temp_variable = { minister = mhc_ach_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 9 }
				}
				if = {
					limit = {
						has_variable = mhc_opg_value
					}
					set_temp_variable = { minister = mhc_opg_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 10 }
				}
				if = {
					limit = {
						has_variable = mhc_wic_value
					}
					set_temp_variable = { minister = mhc_wic_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 11 }
				}
				if = {
					limit = {
						has_variable = mhc_supc_value
					}
					set_temp_variable = { minister = mhc_supc_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 12 }
				}
				if = {
					limit = {
						has_variable = mhc_nas_value
					}
					set_temp_variable = { minister = mhc_nas_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 13 }
				}
				if = {
					limit = {
						has_variable = mhc_ncs_value
					}
					set_temp_variable = { minister = mhc_ncs_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 14 }
				}
				if = {
					limit = {
						has_variable = mhc_nog_value
					}
					set_temp_variable = { minister = mhc_nog_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 15 }
				}
				if = {
					limit = {
						has_variable = mhc_cog_value
					}
					set_temp_variable = { minister = mhc_cog_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 16 }
				}
				if = {
					limit = {
						has_variable = mhc_nlg_value
					}
					set_temp_variable = { minister = mhc_nlg_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_activate_target = 17 }
				}
				if = {
					limit = {
						has_variable = mhc_mog_value
					}
					set_temp_variable = { minister = mhc_mog_value }
					meta_effect = {
						text = {
							add_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
		}
	}
}

mhc_deactivate_idea = {
	hidden_effect = {
		ROOT = {
			if = {
				limit = {
					check_variable = { mhc_deactivate_target = 1 }
				}
				if = {
					limit = {
						has_variable = mhc_sec_value
					}
					set_temp_variable = { minister = mhc_sec_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 2 }
				}
				if = {
					limit = {
						has_variable = mhc_chief_value
					}
					set_temp_variable = { minister = mhc_chief_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 3 }
				}
				if = {
					limit = {
						has_variable = mhc_vchief_value
					}
					set_temp_variable = { minister = mhc_vchief_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 4 }
				}
				if = {
					limit = {
						has_variable = mhc_quart_value
					}
					set_temp_variable = { minister = mhc_quart_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 5 }
				}
				if = {
					limit = {
						has_variable = mhc_pchief_value
					}
					set_temp_variable = { minister = mhc_pchief_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 6 }
				}
				if = {
					limit = {
						has_variable = mhc_ins_value
					}
					set_temp_variable = { minister = mhc_ins_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_army_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 7 }
				}
				if = {
					limit = {
						has_variable = mhc_afc_value
					}
					set_temp_variable = { minister = mhc_afc_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 8 }
				}
				if = {
					limit = {
						has_variable = mhc_ach_value
					}
					set_temp_variable = { minister = mhc_ach_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 9 }
				}
				if = {
					limit = {
						has_variable = mhc_opg_value
					}
					set_temp_variable = { minister = mhc_opg_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 10 }
				}
				if = {
					limit = {
						has_variable = mhc_wic_value
					}
					set_temp_variable = { minister = mhc_wic_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 11 }
				}
				if = {
					limit = {
						has_variable = mhc_supc_value
					}
					set_temp_variable = { minister = mhc_supc_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_airforce_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 12 }
				}
				if = {
					limit = {
						has_variable = mhc_nas_value
					}
					set_temp_variable = { minister = mhc_nas_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 13 }
				}
				if = {
					limit = {
						has_variable = mhc_ncs_value
					}
					set_temp_variable = { minister = mhc_ncs_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 14 }
				}
				if = {
					limit = {
						has_variable = mhc_nog_value
					}
					set_temp_variable = { minister = mhc_nog_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 15 }
				}
				if = {
					limit = {
						has_variable = mhc_cog_value
					}
					set_temp_variable = { minister = mhc_cog_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 16 }
				}
				if = {
					limit = {
						has_variable = mhc_nlg_value
					}
					set_temp_variable = { minister = mhc_nlg_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_deactivate_target = 17 }
				}
				if = {
					limit = {
						has_variable = mhc_mog_value
					}
					set_temp_variable = { minister = mhc_mog_value }
					meta_effect = {
						text = {
							remove_ideas = mhc_trait_[ID]
						}
						ID = "[?local_mhc_navy_available_traits_array^minister]"
					}
				}
			}
		}
	}
}

mhc_create_junta_airforce = {
	hidden_effect = {
		set_country_flag = MHC_military_junta_airforce
		add_ideas = mhc_military_junta_idea_airforce
		
		mhc_junta_nullify_ps = yes
		
		#news event
		news_event = { id = mhc.15 }
		every_neighbor_country = {
			news_event = { id = mhc.15 days = 1 }
		}
		
		#military spending
		if = {
			limit = {
				OR = {
					has_idea = army_spending_level_3
					has_idea = army_spending_level_2
					has_idea = army_spending_level_1
				}
			}
			#vote for five percent
			set_variable = { 
				var = temp_reform_id
				value = 12.2
			}
		}
		else_if = {
			limit = {
				has_idea = army_spending_level_4
			}
			#vote for ten percent
			set_variable = { 
				var = temp_reform_id
				value = 12.1
			}
		}
		#trade policy
		else_if = {
			limit = {
				OR = {
					has_idea = free_trade
					has_idea = export_focus
				}
			}
			#vote for limited exports
			set_variable = { 
				var = temp_reform_id
				value = 7.3
			}
		}
		else_if = {
			limit = {
				has_idea = limited_exports
			}
			#vote for limited exports
			set_variable = { 
				var = temp_reform_id
				value = 7.4
			}
		}
		else = {
			set_country_flag = mhc_temp_non_vote_junta
		}
		
		mhc_junta_disable_parliament_decisions = yes
		
		#vote event
		if = {
			limit = {
				has_country_flag = mhc_temp_non_vote_junta
			}
			country_event = { id = mhc.13 days = 3 }
		}
		else = {
			country_event = { id = mhc.11 days = 14 }
		}
	}
}

mhc_create_junta_navy = {
	hidden_effect = {
		set_country_flag = MHC_military_junta_navy
		add_ideas = mhc_military_junta_idea_navy
		
		mhc_junta_nullify_ps = yes
		
		#news event
		news_event = { id = mhc.16 }
		every_neighbor_country = {
			news_event = { id = mhc.16 days = 1 }
		}
		
		#military spending
		if = {
			limit = {
				OR = {
					has_idea = army_spending_level_3
					has_idea = army_spending_level_2
					has_idea = army_spending_level_1
				}
			}
			#vote for five percent
			set_variable = { 
				var = temp_reform_id
				value = 12.2
			}
		}
		else_if = {
			limit = {
				has_idea = army_spending_level_4
			}
			#vote for ten percent
			set_variable = { 
				var = temp_reform_id
				value = 12.1
			}
		}
		#trade policy
		else_if = {
			limit = {
				OR = {
					has_idea = free_trade
					has_idea = export_focus
				}
			}
			#vote for limited exports
			set_variable = { 
				var = temp_reform_id
				value = 7.3
			}
		}
		else_if = {
			limit = {
				has_idea = limited_exports
			}
			#vote for limited exports
			set_variable = { 
				var = temp_reform_id
				value = 7.4
			}
		}
		else = {
			set_country_flag = mhc_temp_non_vote_junta
		}
		
		mhc_junta_disable_parliament_decisions = yes
		
		#vote event
		if = {
			limit = {
				has_country_flag = mhc_temp_non_vote_junta
			}
			country_event = { id = mhc.13 days = 3 }
		}
		else = {
			country_event = { id = mhc.11 days = 14 }
		}
	}
}

mhc_create_junta_army = {
	hidden_effect = {
		set_country_flag = MHC_military_junta_army
		add_ideas = mhc_military_junta_idea_army
		
		mhc_junta_nullify_ps = yes
		
		#news event
		news_event = { id = mhc.10 }
		every_neighbor_country = {
			news_event = { id = mhc.10 days = 1 }
		}
		
		#military spending
		if = {
			limit = {
				OR = {
					has_idea = army_spending_level_3
					has_idea = army_spending_level_2
					has_idea = army_spending_level_1
				}
			}
			#vote for five percent
			set_variable = { 
				var = temp_reform_id
				value = 12.2
			}
		}
		else_if = {
			limit = {
				has_idea = army_spending_level_4
			}
			#vote for ten percent
			set_variable = { 
				var = temp_reform_id
				value = 12.1
			}
		}
		#trade policy
		else_if = {
			limit = {
				OR = {
					has_idea = free_trade
					has_idea = export_focus
				}
			}
			#vote for limited exports
			set_variable = { 
				var = temp_reform_id
				value = 7.3
			}
		}
		else_if = {
			limit = {
				has_idea = limited_exports
			}
			#vote for limited exports
			set_variable = { 
				var = temp_reform_id
				value = 7.4
			}
		}
		else = {
			set_country_flag = mhc_temp_non_vote_junta
		}
		
		mhc_junta_disable_parliament_decisions = yes
		
		#vote event
		if = {
			limit = {
				has_country_flag = mhc_temp_non_vote_junta
			}
			country_event = { id = mhc.13 days = 3 }
		}
		else = {
			country_event = { id = mhc.11 days = 14 }
		}
	}
}

mhc_fill_generic_airforce_advisor = {
	hidden_effect = {
		if = {
			limit = {
				mhc_airforce_tab_enabled = yes
			}
			if = {
				limit = {
					OR = {
						AND = {
							has_variable = local_mhc_airforce_available_array^0
							NOT = {
								has_variable = local_mhc_airforce_available_array^7
							}
						}
						NOT = {
							has_variable = local_mhc_airforce_available_array^0
						}
					}
				}
				
				#clear_array = local_mhc_generic_airforce_advisors_array
				generate_random_array_with_eight_random_numbers = yes
				for_each_loop = {
					array = temp_dyn_fill_array
					
					set_temp_variable = { temp_current_index_counter = i }
					add_to_temp_variable = { temp_current_index_counter = 1 }
					
					if = {
						limit = {
							NOT = {
								has_variable = local_mhc_airforce_available_array^7
							}
						}
						if = {
							###generic advisors have to be saved and read to show generic gfx icons
							limit = {
								NOT = {
									#has_variable = local_mhc_airforce_available_array^i
									is_in_array = {
										array = local_mhc_airforce_available_array
										value = v
									}
								}
							}
							
							add_to_array = {
								array = local_mhc_generic_airforce_advisors_array
								value = v
							}
							
							#advisor
							add_to_array = {
								array = local_mhc_airforce_available_array
								value = v
							}
							
							#trait
							if = {
								limit = {
									NOT = {
										has_variable = local_mhc_airforce_available_traits_array^0
									}
								}
								add_to_array = { # position 0 is null value
									array = local_mhc_airforce_available_traits_array
									index = 0
									value = 0
								}
							}
							if = {
								limit = {
									NOT = {
										has_variable = local_mhc_airforce_available_traits_array^v
									}
								}
								resize_array = {
									array = local_mhc_airforce_available_traits_array
									size = v
								}
							}
							if = {
								limit = {
									has_variable = local_mhc_airforce_available_traits_array^v
								}
								remove_from_array = {
									array = local_mhc_airforce_available_traits_array
									index = v
								}
							}
							generate_random_number_between_one_and_fifty = yes
							add_to_temp_variable = {
								var = temp_generated_number_one_fifty
								value = 54
							}
							while_loop_effect = {
								limit = {
									check_variable = { temp_generated_number_one_fifty > 97 }
								}
								subtract_from_temp_variable = { temp_generated_number_one_fifty = 1 }
							}
							add_to_array = {
								array = local_mhc_airforce_available_traits_array
								index = v
								value = temp_generated_number_one_fifty
							}
						}
					}
					else = {
						set_temp_variable = { break = 1 }
					}
				}
			}
		}
	}       
}

mhc_fill_generic_navy_advisor = {
	hidden_effect = {
		if = {
			limit = {
				mhc_navy_tab_enabled = yes
			}
			if = {
				limit = {
					OR = {
						AND = {
							has_variable = local_mhc_navy_available_array^0
							NOT = {
								has_variable = local_mhc_navy_available_array^7
							}
						}
						NOT = {
							has_variable = local_mhc_navy_available_array^0
						}
					}
				}
				
				#clear_array = local_mhc_generic_navy_advisors_array
				generate_random_array_with_eight_random_numbers = yes
				for_each_loop = {
					array = temp_dyn_fill_array
					
					set_temp_variable = { temp_current_index_counter = i }
					add_to_temp_variable = { temp_current_index_counter = 1 }
					
					if = {
						limit = {
							NOT = {
								has_variable = local_mhc_navy_available_array^7
							}
						}
						if = {
							###generic advisors have to be saved and read to show generic gfx icons
							limit = {
								NOT = {
									#has_variable = local_mhc_navy_available_array^i
									is_in_array = {
										array = local_mhc_navy_available_array
										value = v
									}
								}
							}
							
							add_to_array = {
								array = local_mhc_generic_navy_advisors_array
								value = v
							}
							
							#advisor
							add_to_array = {
								array = local_mhc_navy_available_array
								value = v
							}
							
							#trait
							if = {
								limit = {
									NOT = {
										has_variable = local_mhc_navy_available_traits_array^0
									}
								}
								add_to_array = { # position 0 is null value
									array = local_mhc_navy_available_traits_array
									index = 0
									value = 0
								}
							}
							if = {
								limit = {
									NOT = {
										has_variable = local_mhc_navy_available_traits_array^v
									}
								}
								resize_array = {
									array = local_mhc_navy_available_traits_array
									size = v
								}
							}
							if = {
								limit = {
									has_variable = local_mhc_navy_available_traits_array^v
								}
								remove_from_array = {
									array = local_mhc_navy_available_traits_array
									index = v
								}
							}
							generate_random_number_between_one_and_fifty = yes
							add_to_temp_variable = {
								var = temp_generated_number_one_fifty
								value = 97
							}
							while_loop_effect = {
								limit = {
									check_variable = { temp_generated_number_one_fifty > 137 }
								}
								subtract_from_temp_variable = { temp_generated_number_one_fifty = 1 }
							}
							add_to_array = {
								array = local_mhc_navy_available_traits_array
								index = v
								value = temp_generated_number_one_fifty
							}
						}
					}
					else = {
						set_temp_variable = { break = 1 }
					}
				}
			}
		}
	}       
}

mhc_fill_generic_army_advisor = {
	hidden_effect = {
		if = {
			limit = {
				OR = {
					AND = {
						has_variable = local_mhc_army_available_array^0
						NOT = {
							has_variable = local_mhc_army_available_array^7
						}
					}
					NOT = {
						has_variable = local_mhc_army_available_array^0
					}
				}
			}
			
			#clear_array = local_mhc_generic_army_advisors_array
			generate_random_array_with_eight_random_numbers = yes
			for_each_loop = {
				array = temp_dyn_fill_array
				
				set_temp_variable = { temp_current_index_counter = i }
				add_to_temp_variable = { temp_current_index_counter = 1 }
				
				if = {
					limit = {
						NOT = {
							has_variable = local_mhc_army_available_array^7
						}
					}
					if = {
						###generic advisors have to be saved and read to show generic gfx icons
						limit = {
							NOT = {
								#has_variable = local_mhc_army_available_array^i
								is_in_array = {
									array = local_mhc_army_available_array
									value = v
								}
							}
						}
						
						add_to_array = {
							array = local_mhc_generic_army_advisors_array
							value = v
						}
						
						#advisor
						add_to_array = {
							array = local_mhc_army_available_array
							value = v
						}
						
						#trait
						if = {
							limit = {
								NOT = {
									has_variable = local_mhc_army_available_traits_array^0
								}
							}
							add_to_array = { # position 0 is null value
								array = local_mhc_army_available_traits_array
								index = 0
								value = 0
							}
						}
						if = {
							limit = {
								NOT = {
									has_variable = local_mhc_army_available_traits_array^v
								}
							}
							resize_array = {
								array = local_mhc_army_available_traits_array
								size = v
							}
						}
						if = {
							limit = {
								has_variable = local_mhc_army_available_traits_array^v
							}
							remove_from_array = {
								array = local_mhc_army_available_traits_array
								index = v
							}
						}
						generate_random_number_between_one_and_fifty = yes
						add_to_array = {
							array = local_mhc_army_available_traits_array
							index = v
							value = temp_generated_number_one_fifty
						}
					}
				}
				else = {
					set_temp_variable = { break = 1 }
				}
			}
		}   
	}       
}

mhc_add_airforce_advisor = {
	hidden_effect = {
		###ADVISOR SETUP###
		#Value is reference to frame of minister
		add_to_array = {
			array = local_mhc_airforce_available_array
			value = temp_advisor_frame
		}
		
		###TRAIT SETUP###
		#Index is reference to minister
		#Value is reference to trait
		#add_to_array = {
		#	array = local_mhc_airforce_available_traits_array
		#	index = temp_advisor_frame
		#	value = temp_advisor_trait
		#}
		
		while_loop_effect = {
			limit = {
				OR = {
					check_variable = { local_mhc_airforce_available_traits_array^num < temp_advisor_frame }
					check_variable = { local_mhc_airforce_available_traits_array^num = temp_advisor_frame }
				}
			}
			add_to_array = {
				array = local_mhc_airforce_available_traits_array
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = local_mhc_airforce_available_traits_array^temp_advisor_frame
				check_variable = { local_mhc_airforce_available_traits_array^temp_advisor_frame = 0 }
			}
			remove_from_array = {
				array = local_mhc_airforce_available_traits_array
				index = temp_advisor_frame
			}
		}
		add_to_array = {
			array = local_mhc_airforce_available_traits_array
			index = temp_advisor_frame
			value = temp_advisor_trait
		}
	}
}

mhc_add_navy_advisor = {
	hidden_effect = {
		###ADVISOR SETUP###
		#Value is reference to frame of minister
		add_to_array = {
			array = local_mhc_navy_available_array
			value = temp_advisor_frame
		}
		
		###TRAIT SETUP###
		#Index is reference to minister
		#Value is reference to trait
		#add_to_array = {
		#	array = local_mhc_navy_available_traits_array
		#	index = temp_advisor_frame
		#	value = temp_advisor_trait
		#}
		
		while_loop_effect = {
			limit = {
				OR = {
					check_variable = { local_mhc_navy_available_traits_array^num < temp_advisor_frame }
					check_variable = { local_mhc_navy_available_traits_array^num = temp_advisor_frame }
				}
			}
			add_to_array = {
				array = local_mhc_navy_available_traits_array
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = local_mhc_navy_available_traits_array^temp_advisor_frame
				check_variable = { local_mhc_navy_available_traits_array^temp_advisor_frame = 0 }
			}
			remove_from_array = {
				array = local_mhc_navy_available_traits_array
				index = temp_advisor_frame
			}
		}
		add_to_array = {
			array = local_mhc_navy_available_traits_array
			index = temp_advisor_frame
			value = temp_advisor_trait
		}
	}
}

mhc_add_army_advisor = {
	hidden_effect = {
		###ADVISOR SETUP###
		#Value is reference to frame of minister
		add_to_array = {
			array = local_mhc_army_available_array
			value = temp_advisor_frame
		}
		
		###TRAIT SETUP###
		#Index is reference to minister
		#Value is reference to trait
		while_loop_effect = { # added above as well, let's see how this goes #cant remember why this is here but not for navy and airf above, maybe because advisor ids are in order in startup effects?
			limit = {
				OR = {
					check_variable = { local_mhc_army_available_traits_array^num < temp_advisor_frame }
					check_variable = { local_mhc_army_available_traits_array^num = temp_advisor_frame }
				}
			}
			add_to_array = {
				array = local_mhc_army_available_traits_array
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = local_mhc_army_available_traits_array^temp_advisor_frame
				check_variable = { local_mhc_army_available_traits_array^temp_advisor_frame = 0 }
			}
			remove_from_array = {
				array = local_mhc_army_available_traits_array
				index = temp_advisor_frame
			}
		}
		add_to_array = {
			array = local_mhc_army_available_traits_array
			index = temp_advisor_frame
			value = temp_advisor_trait
		}
	}
}

mhc_remove_airforce_advisor = {
	hidden_effect = {
		#remove advisor as a powerful member of airforce
		if = {
			limit = {
				is_in_array = {
					array = mhc_powerful_airforce_officials
					value = temp_advisor_frame
				}
			}
			remove_from_array = {
				array = mhc_powerful_airforce_officials
				value = temp_advisor_frame
			}
		}
	
		#check whether advisor is assigned
		#no activation check since that's already handled by the clear functions
		#and requires the advisor to be assigned in the first place
		if = {
			limit = {
				check_variable = { mhc_afc_value = temp_advisor_frame }
			}
			mhc_clear_afc = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_ach_value = temp_advisor_frame }
			}
			mhc_clear_ach = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_opg_value = temp_advisor_frame }
			}
			mhc_clear_opg = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_wic_value = temp_advisor_frame }
			}
			mhc_clear_wic = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_supc_value = temp_advisor_frame }
			}
			mhc_clear_supc = yes
		}
	
		#remove advisor from the high officer array
		if = {
			limit = {
				has_variable = local_mhc_high_airforce_available_array^0
				is_in_array = {
					array = local_mhc_high_airforce_available_array
					value = temp_advisor_frame
				}
			}
			remove_from_array = {
				array = local_mhc_high_airforce_available_array
				value = temp_advisor_frame
			}
		}
	
		#remove custom advisor if present
		for_each_loop = {
			array = local_mhc_airforce_available_array
			
			if = {
				limit = {
					check_variable = { v = temp_advisor_frame }
				}
				remove_from_array = {
					array = local_mhc_airforce_available_array
					index = i
				}
			}
		}
		
		#remove generic advisor if present
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_generic_airforce_advisors_array
					value = temp_advisor_frame
				}
			}
			for_each_loop = {
				array = local_mhc_generic_airforce_advisors_array
				
				if = {
					limit = {
						check_variable = { v = temp_advisor_frame }
					}
					remove_from_array = {
						array = local_mhc_generic_airforce_advisors_array
						index = i
					}
				}
			}
		}
		
		#remove trait of advisor if present
		if = {
			limit = {
				has_variable = local_mhc_airforce_available_traits_array^temp_advisor_frame
			}
			set_temp_variable = { temp_advisor_frame_incr = temp_advisor_frame }
			add_to_temp_variable = { temp_advisor_frame_incr = 1 }
			if = {
				limit = {
					has_variable = local_mhc_airforce_available_traits_array^temp_advisor_frame_incr
				}
				remove_from_array = {
					array = local_mhc_airforce_available_traits_array
					index = temp_advisor_frame
				}
				add_to_array = {
					array = local_mhc_airforce_available_traits_array
					value = 0
					index = temp_advisor_frame
				}
			}
			else = {
				remove_from_array = {
					array = local_mhc_airforce_available_traits_array
					index = temp_advisor_frame
				}
			}
		}
		
		#refill missing advisors
		if = {
			limit = {
				NOT = {
					has_variable = local_mhc_airforce_available_array^7
				}
			}
			mhc_fill_generic_airforce_advisor = yes
		}
	}
}

mhc_remove_navy_advisor = {
	hidden_effect = {
		#remove advisor as a powerful member of navy
		if = {
			limit = {
				is_in_array = {
					array = mhc_powerful_navy_officials
					value = temp_advisor_frame
				}
			}
			remove_from_array = {
				array = mhc_powerful_navy_officials
				value = temp_advisor_frame
			}
		}
	
		#check whether advisor is assigned
		#no activation check since that's already handled by the clear functions
		#and requires the advisor to be assigned in the first place
		if = {
			limit = {
				check_variable = { mhc_nas_value = temp_advisor_frame }
			}
			mhc_clear_nas = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_ncs_value = temp_advisor_frame }
			}
			mhc_clear_ncs = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_nog_value = temp_advisor_frame }
			}
			mhc_clear_nog = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_cog_value = temp_advisor_frame }
			}
			mhc_clear_cog = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_nlg_value = temp_advisor_frame }
			}
			mhc_clear_nlg = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_mog_value = temp_advisor_frame }
			}
			mhc_clear_mog = yes
		}
	
		#remove advisor from the high officer array
		if = {
			limit = {
				has_variable = local_mhc_high_navy_available_array^0
				is_in_array = {
					array = local_mhc_high_navy_available_array
					value = temp_advisor_frame
				}
			}
			remove_from_array = {
				array = local_mhc_high_navy_available_array
				value = temp_advisor_frame
			}
		}
	
		#remove custom advisor if present
		for_each_loop = {
			array = local_mhc_navy_available_array
			
			if = {
				limit = {
					check_variable = { v = temp_advisor_frame }
				}
				remove_from_array = {
					array = local_mhc_navy_available_array
					index = i
				}
			}
		}
		
		#remove generic advisor if present
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_generic_navy_advisors_array
					value = temp_advisor_frame
				}
			}
			for_each_loop = {
				array = local_mhc_generic_navy_advisors_array
				
				if = {
					limit = {
						check_variable = { v = temp_advisor_frame }
					}
					remove_from_array = {
						array = local_mhc_generic_navy_advisors_array
						index = i
					}
				}
			}
		}
		
		#remove trait of advisor if present
		if = {
			limit = {
				has_variable = local_mhc_navy_available_traits_array^temp_advisor_frame
			}
			set_temp_variable = { temp_advisor_frame_incr = temp_advisor_frame }
			add_to_temp_variable = { temp_advisor_frame_incr = 1 }
			if = {
				limit = {
					has_variable = local_mhc_navy_available_traits_array^temp_advisor_frame_incr
				}
				remove_from_array = {
					array = local_mhc_navy_available_traits_array
					index = temp_advisor_frame
				}
				add_to_array = {
					array = local_mhc_navy_available_traits_array
					value = 0
					index = temp_advisor_frame
				}
			}
			else = {
				remove_from_array = {
					array = local_mhc_navy_available_traits_array
					index = temp_advisor_frame
				}
			}
		}
		
		#refill missing advisors
		if = {
			limit = {
				NOT = {
					has_variable = local_mhc_navy_available_array^7
				}
			}
			mhc_fill_generic_navy_advisor = yes
		}
	}
}

mhc_remove_army_advisor = {
	hidden_effect = {
		#remove advisor as a powerful member of army
		if = {
			limit = {
				is_in_array = {
					array = mhc_powerful_army_officials
					value = temp_advisor_frame
				}
			}
			remove_from_array = {
				array = mhc_powerful_army_officials
				value = temp_advisor_frame
			}
		}
	
		#check whether advisor is assigned
		#no activation check since that's already handled by the clear functions
		#and requires the advisor to be assigned in the first place
		if = {
			limit = {
				check_variable = { mhc_sec_value = temp_advisor_frame }
			}
			mhc_clear_sec = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_chief_value = temp_advisor_frame }
			}
			mhc_clear_chief = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_vchief_value = temp_advisor_frame }
			}
			mhc_clear_vchief = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_quart_value = temp_advisor_frame }
			}
			mhc_clear_quart = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_pchief_value = temp_advisor_frame }
			}
			mhc_clear_pchief = yes
		}
		else_if = {
			limit = {
				check_variable = { mhc_ins_value = temp_advisor_frame }
			}
			mhc_clear_ins = yes
		}
	
		#remove advisor from the high officer array
		if = {
			limit = {
				has_variable = local_mhc_high_army_available_array^0
				is_in_array = {
					array = local_mhc_high_army_available_array
					value = temp_advisor_frame
				}
			}
			remove_from_array = {
				array = local_mhc_high_army_available_array
				value = temp_advisor_frame
			}
		}
	
		#remove custom advisor if present
		for_each_loop = {
			array = local_mhc_army_available_array
			
			if = {
				limit = {
					check_variable = { v = temp_advisor_frame }
				}
				remove_from_array = {
					array = local_mhc_army_available_array
					index = i
				}
			}
		}
		
		#remove generic advisor if present
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_generic_army_advisors_array
					value = temp_advisor_frame
				}
			}
			for_each_loop = {
				array = local_mhc_generic_army_advisors_array
				
				if = {
					limit = {
						check_variable = { v = temp_advisor_frame }
					}
					remove_from_array = {
						array = local_mhc_generic_army_advisors_array
						index = i
					}
				}
			}
		}
		
		#remove trait of advisor if present
		if = {
			limit = {
				has_variable = local_mhc_army_available_traits_array^temp_advisor_frame
			}
			set_temp_variable = { temp_advisor_frame_incr = temp_advisor_frame }
			add_to_temp_variable = { temp_advisor_frame_incr = 1 }
			if = {
				limit = {
					has_variable = local_mhc_army_available_traits_array^temp_advisor_frame_incr
				}
				remove_from_array = {
					array = local_mhc_army_available_traits_array
					index = temp_advisor_frame
				}
				add_to_array = {
					array = local_mhc_army_available_traits_array
					value = 0
					index = temp_advisor_frame
				}
			}
			else = {
				remove_from_array = {
					array = local_mhc_army_available_traits_array
					index = temp_advisor_frame
				}
			}	
		}
		
		#refill missing advisors
		if = {
			limit = {
				NOT = {
					has_variable = local_mhc_army_available_array^7
				}
			}
			mhc_fill_generic_army_advisor = yes
		}
	}
}

mhc_remove_generic_airforce_advisors = {
	hidden_effect = {
		if = {
			limit = {
				has_variable = local_mhc_generic_airforce_advisors_array^0
			}
			for_each_loop = {
				array = local_mhc_generic_airforce_advisors_array
				
				#remove advisor as a powerful member of airforce
				if = {
					limit = {
						is_in_array = {
							array = mhc_powerful_airforce_officials
							value = v
						}
					}
					remove_from_array = {
						array = mhc_powerful_airforce_officials
						value = v
					}
				}
			
				#check whether advisor is assigned
				#no activation check since that's already handled by the clear functions
				#and requires the advisor to be assigned in the first place
				if = {
					limit = {
						check_variable = { mhc_afc_value = v }
					}
					mhc_clear_afc = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_ach_value = v }
					}
					mhc_clear_ach = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_opg_value = v }
					}
					mhc_clear_opg = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_wic_value = v }
					}
					mhc_clear_wic = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_supc_value = v }
					}
					mhc_clear_supc = yes
				}
				
				remove_from_array = {
					array = local_mhc_airforce_available_array
					value = v
				}
				
				if = {
					limit = {
						has_variable = local_mhc_high_airforce_available_array^0
						is_in_array = {
							array = local_mhc_high_airforce_available_array
							value = v
						}
					}
					remove_from_array = {
						array = local_mhc_high_airforce_available_array
						index = v
					}
				}
				
				if = {
					limit = {
						has_variable = local_mhc_airforce_available_traits_array^v
					}
					set_temp_variable = { temp_advisor_frame_incr = v }
					add_to_temp_variable = { temp_advisor_frame_incr = 1 }
					if = {
						limit = {
							has_variable = local_mhc_airforce_available_traits_array^temp_advisor_frame_incr
						}
						remove_from_array = {
							array = local_mhc_airforce_available_traits_array
							index = v
						}
						add_to_array = {
							array = local_mhc_airforce_available_traits_array
							value = 0
							index = v
						}
					}
					else = {
						remove_from_array = {
							array = local_mhc_airforce_available_traits_array
							index = v
						}
					}	
				}
			}
		}
	}
}

mhc_remove_generic_navy_advisors = {
	hidden_effect = {
		if = {
			limit = {
				has_variable = local_mhc_generic_navy_advisors_array^0
			}
			for_each_loop = {
				array = local_mhc_generic_navy_advisors_array
				
				#remove advisor as a powerful member of navy
				if = {
					limit = {
						is_in_array = {
							array = mhc_powerful_navy_officials
							value = v
						}
					}
					remove_from_array = {
						array = mhc_powerful_navy_officials
						value = v
					}
				}
			
				#check whether advisor is assigned
				#no activation check since that's already handled by the clear functions
				#and requires the advisor to be assigned in the first place
				if = {
					limit = {
						check_variable = { mhc_nas_value = v }
					}
					mhc_clear_nas = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_ncs_value = v }
					}
					mhc_clear_ncs = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_nog_value = v }
					}
					mhc_clear_nog = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_cog_value = v }
					}
					mhc_clear_cog = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_nlg_value = v }
					}
					mhc_clear_nlg = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_mog_value = v }
					}
					mhc_clear_mog = yes
				}
				
				remove_from_array = {
					array = local_mhc_navy_available_array
					value = v
				}
				
				if = {
					limit = {
						has_variable = local_mhc_high_navy_available_array^0
						is_in_array = {
							array = local_mhc_high_navy_available_array
							value = v
						}
					}
					remove_from_array = {
						array = local_mhc_high_navy_available_array
						index = v
					}
				}
				
				if = {
					limit = {
						has_variable = local_mhc_navy_available_traits_array^v
					}
					set_temp_variable = { temp_advisor_frame_incr = v }
					add_to_temp_variable = { temp_advisor_frame_incr = 1 }
					if = {
						limit = {
							has_variable = local_mhc_navy_available_traits_array^temp_advisor_frame_incr
						}
						remove_from_array = {
							array = local_mhc_navy_available_traits_array
							index = v
						}
						add_to_array = {
							array = local_mhc_navy_available_traits_array
							value = 0
							index = v
						}
					}
					else = {
						remove_from_array = {
							array = local_mhc_navy_available_traits_array
							index = v
						}
					}	
				}
			}
		}
	}
}

mhc_remove_generic_army_advisors = {
	hidden_effect = {
		if = {
			limit = {
				has_variable = local_mhc_generic_army_advisors_array^0
			}
			for_each_loop = {
				array = local_mhc_generic_army_advisors_array
				
				#remove advisor as a powerful member of army
				if = {
					limit = {
						is_in_array = {
							array = mhc_powerful_army_officials
							value = v
						}
					}
					remove_from_array = {
						array = mhc_powerful_army_officials
						value = v
					}
				}
			
				#check whether advisor is assigned
				#no activation check since that's already handled by the clear functions
				#and requires the advisor to be assigned in the first place
				if = {
					limit = {
						check_variable = { mhc_sec_value = v }
					}
					mhc_clear_sec = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_chief_value = v }
					}
					mhc_clear_chief = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_vchief_value = v }
					}
					mhc_clear_vchief = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_quart_value = v }
					}
					mhc_clear_quart = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_pchief_value = v }
					}
					mhc_clear_pchief = yes
				}
				else_if = {
					limit = {
						check_variable = { mhc_ins_value = v }
					}
					mhc_clear_ins = yes
				}
				
				remove_from_array = {
					array = local_mhc_army_available_array
					value = v
				}
				
				if = {
					limit = {
						has_variable = local_mhc_high_army_available_array^0
						is_in_array = {
							array = local_mhc_high_army_available_array
							value = v
						}
					}
					remove_from_array = {
						array = local_mhc_high_army_available_array
						index = v
					}
				}
				
				if = {
					limit = {
						has_variable = local_mhc_army_available_traits_array^v
					}
					set_temp_variable = { temp_advisor_frame_incr = v }
					add_to_temp_variable = { temp_advisor_frame_incr = 1 }
					if = {
						limit = {
							has_variable = local_mhc_army_available_traits_array^temp_advisor_frame_incr
						}
						remove_from_array = {
							array = local_mhc_army_available_traits_array
							index = v
						}
						add_to_array = {
							array = local_mhc_army_available_traits_array
							value = 0
							index = v
						}
					}
					else = {
						remove_from_array = {
							array = local_mhc_army_available_traits_array
							index = v
						}
					}	
				}
			}
		}
	}
}

mhc_add_mark_advisor_as_high_army_brass = {
	hidden_effect = {
		###ALLOWED ADVISORS IN HIGH POSITIONS SETUP###
		#Value is reference to minister
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_army_available_array
					value = temp_advisor_frame
				}
			}
			add_to_array = {
				array = local_mhc_high_army_available_array
				value = temp_advisor_frame
			}
		}
	}
}

mhc_add_mark_advisor_as_high_airforce_brass = {
	hidden_effect = {
		###ALLOWED ADVISORS IN HIGH POSITIONS SETUP###
		#Value is reference to minister
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_airforce_available_array
					value = temp_advisor_frame
				}
			}
			add_to_array = {
				array = local_mhc_high_airforce_available_array
				value = temp_advisor_frame
			}
		}
	}
}

mhc_add_mark_advisor_as_high_navy_brass = {
	hidden_effect = {
		###ALLOWED ADVISORS IN HIGH POSITIONS SETUP###
		#Value is reference to minister
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_navy_available_array
					value = temp_advisor_frame
				}
			}
			add_to_array = {
				array = local_mhc_high_navy_available_array
				value = temp_advisor_frame
			}
		}
	}
}

mhc_remove_all_navy_advisors = {
	hidden_effect = {
		clear_array = local_mhc_navy_available_traits_array
		clear_array = local_mhc_navy_available_array
		clear_array = local_mhc_generic_navy_advisors_array
		clear_array = local_mhc_high_navy_available_array
	}
}

mhc_remove_all_airforce_advisors = {
	hidden_effect = {
		clear_array = local_mhc_airforce_available_traits_array
		clear_array = local_mhc_airforce_available_array
		clear_array = local_mhc_generic_airforce_advisors_array
		clear_array = local_mhc_high_airforce_available_array
	}
}

mhc_remove_all_army_advisors = {
	hidden_effect = {
		clear_array = local_mhc_army_available_traits_array
		clear_array = local_mhc_army_available_array
		clear_array = local_mhc_generic_army_advisors_array
		clear_array = local_mhc_high_army_available_array
	}
}

###AI STUFF###
mhc_ai_army_initiate_assign = {
	hidden_effect = {
		while_loop_effect = {
			limit = {
				OR = {
					check_variable = { mhc_sec_value = 0 }
					check_variable = { mhc_chief_value = 0 }
					check_variable = { mhc_vchief_value = 0 }
					check_variable = { mhc_quart_value = 0 }
					check_variable = { mhc_pchief_value = 0 }
					check_variable = { mhc_ins_value = 0 }
				}
			}
			mhc_ai_army_assign = yes
		}
	}
}

mhc_ai_airforce_initiate_assign = {
	hidden_effect = {
		while_loop_effect = {
			limit = {
				mhc_airforce_tab_enabled = yes
				OR = {
					check_variable = { mhc_afc_value = 0 }
					check_variable = { mhc_ach_value = 0 }
					check_variable = { mhc_opg_value = 0 }
					check_variable = { mhc_wic_value = 0 }
					check_variable = { mhc_supc_value = 0 }
				}
			}
			mhc_ai_airforce_assign = yes
		}
	}
}

mhc_ai_navy_initiate_assign = {
	hidden_effect = {
		while_loop_effect = {
			limit = {
				mhc_navy_tab_enabled = yes
				OR = {
					check_variable = { mhc_nas_value = 0 }
					check_variable = { mhc_ncs_value = 0 }
					check_variable = { mhc_nog_value = 0 }
					check_variable = { mhc_cog_value = 0 }
					check_variable = { mhc_nlg_value = 0 }
					check_variable = { mhc_mog_value = 0 }
				}
			}
			mhc_ai_navy_assign = yes
		}
	}
}

mhc_ai_airforce_initiate_activate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_airforce_tab_enabled = yes
			}
			if = {
				limit = {
					alliance_strength_ratio > 0.7
				}
				if = {
					limit = {
						NOT = {
							check_variable = { mhc_afc_power > 35 }
						}
					}
					while_loop_effect = {
						limit = {
							OR = {
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 7
									}
								}
							}
						}
						mhc_ai_airforce_activate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_afc_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 7
							}
						}
						set_temp_variable = { mhc_deactivate_target = 7 }
						mhc_deactivate = yes
					}
				}
				mhc_ai_normalize_activations = yes
			}
			else_if = {
				limit = {
					alliance_strength_ratio > 0.4
				}
				if = {
					limit = {
						NOT = {
							OR = {
								check_variable = { mhc_ach_power > 35 }
								check_variable = { mhc_opg_power > 35 }
							}
						}
					}
					while_loop_effect = {
						limit = {
							OR = {
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 8
									}
								}
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 9
									}
								}
							}
						}
						mhc_ai_airforce_activate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_ach_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 8
							}
						}
						set_temp_variable = { mhc_deactivate_target = 8 }
						mhc_deactivate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_opg_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 9
							}
						}
						set_temp_variable = { mhc_deactivate_target = 9 }
						mhc_deactivate = yes
					}
				}
				mhc_ai_normalize_activations = yes
			}
			else_if = {
				limit = {
					alliance_strength_ratio < 0.41
				}
				if = {
					limit = {
						NOT = {
							OR = {
								check_variable = { mhc_wic_power > 35 }
								check_variable = { mhc_supc_power > 35 }
							}
						}
					}
					while_loop_effect = {
						limit = {
							OR = {
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 10
									}
								}
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 11
									}
								}
							}
						}
						mhc_ai_airforce_activate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_wic_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 10
							}
						}
						set_temp_variable = { mhc_deactivate_target = 10 }
						mhc_deactivate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_supc_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 11
							}
						}
						set_temp_variable = { mhc_deactivate_target = 11 }
						mhc_deactivate = yes
					}
				}
				mhc_ai_normalize_activations = yes
			}
		}
	}
}

mhc_ai_navy_initiate_activate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_navy_tab_enabled = yes
			}
			if = {
				limit = {
					alliance_strength_ratio > 0.7
				}
				if = {
					limit = {
						NOT = {
							OR = {
								check_variable = { mhc_nas_power > 35 }
								check_variable = { mhc_ncs_power > 35 }
							}
						}
					}
					while_loop_effect = {
						limit = {
							OR = {
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 12
									}
								}
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 13
									}
								}
							}
						}
						mhc_ai_navy_activate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_nas_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 12
							}
						}
						set_temp_variable = { mhc_deactivate_target = 12 }
						mhc_deactivate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_ncs_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 13
							}
						}
						set_temp_variable = { mhc_deactivate_target = 13 }
						mhc_deactivate = yes
					}
				}
				mhc_ai_normalize_activations = yes
			}
			else_if = {
				limit = {
					alliance_strength_ratio > 0.4
				}
				if = {
					limit = {
						NOT = {
							OR = {
								check_variable = { mhc_nog_power > 35 }
								check_variable = { mhc_cog_power > 35 }
							}
						}
					}
					while_loop_effect = {
						limit = {
							OR = {
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 14
									}
								}
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 15
									}
								}
							}
						}
						mhc_ai_navy_activate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_nog_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 14
							}
						}
						set_temp_variable = { mhc_deactivate_target = 14 }
						mhc_deactivate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_cog_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 15
							}
						}
						set_temp_variable = { mhc_deactivate_target = 15 }
						mhc_deactivate = yes
					}
				}
				mhc_ai_normalize_activations = yes
			}
			else_if = {
				limit = {
					alliance_strength_ratio < 0.41
				}
				if = {
					limit = {
						NOT = {
							OR = {
								check_variable = { mhc_nlg_power > 35 }
								check_variable = { mhc_mog_power > 35 }
							}
						}
					}
					while_loop_effect = {
						limit = {
							OR = {
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 16
									}
								}
								NOT = {
									is_in_array = {
										array = local_mhc_active
										value = 17
									}
								}
							}
						}
						mhc_ai_navy_activate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_nlg_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 16
							}
						}
						set_temp_variable = { mhc_deactivate_target = 16 }
						mhc_deactivate = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { mhc_mog_power > 46 }
					}
					if = {
						limit = {
							is_in_array = {
								array = local_mhc_active
								value = 17
							}
						}
						set_temp_variable = { mhc_deactivate_target = 17 }
						mhc_deactivate = yes
					}
				}
				mhc_ai_normalize_activations = yes
			}
		}
	}
}

mhc_ai_army_initiate_activate = {
	hidden_effect = {
		if = {
			limit = {
				alliance_strength_ratio > 0.7
			}
			if = {
				limit = {
					NOT = {
						OR = {
							check_variable = { mhc_sec_power > 35 }
							check_variable = { mhc_chief_power > 35 }
						}
					}
				}
				while_loop_effect = { # broken, to do
					limit = {
						OR = {
							NOT = {
								is_in_array = {
									array = local_mhc_active
									value = 1
								}
							}
							NOT = {
								is_in_array = {
									array = local_mhc_active
									value = 2
								}
							}
						}
					}
					mhc_ai_army_activate = yes
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_sec_power > 46 }
				}
				if = {
					limit = {
						is_in_array = {
							array = local_mhc_active
							value = 1
						}
					}
					set_temp_variable = { mhc_deactivate_target = 1 }
					mhc_deactivate = yes
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_chief_power > 46 }
				}
				if = {
					limit = {
						is_in_array = {
							array = local_mhc_active
							value = 2
						}
					}
					set_temp_variable = { mhc_deactivate_target = 2 }
					mhc_deactivate = yes
				}
			}
			mhc_ai_normalize_activations = yes
		}
		else_if = {
			limit = {
				alliance_strength_ratio > 0.4
			}
			if = {
				limit = {
					NOT = {
						OR = {
							check_variable = { mhc_vchief_power > 35 }
							check_variable = { mhc_quart_power > 35 }
						}
					}
				}
				while_loop_effect = { # broken, to do
					limit = {
						OR = {
							NOT = {
								is_in_array = {
									array = local_mhc_active
									value = 3
								}
							}
							NOT = {
								is_in_array = {
									array = local_mhc_active
									value = 4
								}
							}
						}
					}
					mhc_ai_army_activate = yes
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_vchief_power > 46 }
				}
				if = {
					limit = {
						is_in_array = {
							array = local_mhc_active
							value = 3
						}
					}
					set_temp_variable = { mhc_deactivate_target = 3 }
					mhc_deactivate = yes
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_quart_power > 46 }
				}
				if = {
					limit = {
						is_in_array = {
							array = local_mhc_active
							value = 4
						}
					}
					set_temp_variable = { mhc_deactivate_target = 4 }
					mhc_deactivate = yes
				}
			}
			mhc_ai_normalize_activations = yes
		}
		else_if = {
			limit = {
				alliance_strength_ratio < 0.41
			}
			if = {
				limit = {
					NOT = {
						OR = {
							check_variable = { mhc_pchief_power > 35 }
							check_variable = { mhc_ins_power > 35 }
						}
					}
				}
				while_loop_effect = { # broken, to do
					limit = {
						OR = {
							NOT = {
								is_in_array = {
									array = local_mhc_active
									value = 5
								}
							}
							NOT = {
								is_in_array = {
									array = local_mhc_active
									value = 6
								}
							}
						}
					}
					mhc_ai_army_activate = yes
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_pchief_power > 46 }
				}
				if = {
					limit = {
						is_in_array = {
							array = local_mhc_active
							value = 5
						}
					}
					set_temp_variable = { mhc_deactivate_target = 5 }
					mhc_deactivate = yes
				}
			}
			else_if = {
				limit = {
					check_variable = { mhc_ins_power > 46 }
				}
				if = {
					limit = {
						is_in_array = {
							array = local_mhc_active
							value = 6
						}
					}
					set_temp_variable = { mhc_deactivate_target = 6 }
					mhc_deactivate = yes
				}
			}
			mhc_ai_normalize_activations = yes
		}
	}
}

mhc_ai_airforce_assign = {
	hidden_effect = {
		if = {
			limit = {
				has_variable = local_mhc_high_airforce_available_array^0
				check_variable = { mhc_afc_value = 0 }
			}
			if = {
				limit = {
					check_variable = { mhc_afc_value = 0 }
				}
				mhc_ai_airforce_assign_generate_random_index_loop_high = yes
				set_temp_variable = { mhc_add_afc_target = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				mhc_add_afc = yes
			}
		}
		else = {
			MHC_AI_generate_random_index_between_zero_and_seven = yes
			if = {
				limit = {
					check_variable = { mhc_afc_value = 0 }
				}
				set_temp_variable = { mhc_add_afc_target = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				mhc_add_afc = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_ach_value = 0 }
				}
				mhc_ai_airforce_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_ach_target = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				mhc_add_ach = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_opg_value = 0 }
				}
				mhc_ai_airforce_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_opg_target = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				mhc_add_opg = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_wic_value = 0 }
				}
				mhc_ai_airforce_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_wic_target = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				mhc_add_wic = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_supc_value = 0 }
				}
				mhc_ai_airforce_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_supc_target = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				mhc_add_supc = yes
			}
		}
	}
}

mhc_ai_navy_assign = {
	hidden_effect = {
		if = {
			limit = {
				has_variable = local_mhc_high_navy_available_array^0
				OR = {
					check_variable = { mhc_nas_value = 0 }
					check_variable = { mhc_ncs_value = 0 }
				}
			}
			if = {
				limit = {
					check_variable = { mhc_nas_value = 0 }
				}
				mhc_ai_navy_assign_generate_random_index_loop_high = yes
				set_temp_variable = { mhc_add_nas_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_nas = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_ncs_value = 0 }
				}
				mhc_ai_navy_assign_generate_random_index_loop_high = yes
				set_temp_variable = { mhc_add_ncs_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_ncs = yes
			}
		}
		else = {
			MHC_AI_generate_random_index_between_zero_and_seven = yes
			if = {
				limit = {
					check_variable = { mhc_nas_value = 0 }
				}
				set_temp_variable = { mhc_add_nas_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_nas = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_ncs_value = 0 }
				}
				mhc_ai_navy_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_ncs_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_ncs = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_nog_value = 0 }
				}
				mhc_ai_navy_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_nog_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_nog = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_nlg_value = 0 }
				}
				mhc_ai_navy_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_nlg_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_nlg = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_cog_value = 0 }
				}
				mhc_ai_navy_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_cog_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_cog = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_mog_value = 0 }
				}
				mhc_ai_navy_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_mog_target = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				mhc_add_mog = yes
			}
		}
	}
}

mhc_ai_army_assign = {
	hidden_effect = {
		if = {
			limit = {
				has_variable = local_mhc_high_army_available_array^0
				OR = {
					check_variable = { mhc_sec_value = 0 }
					check_variable = { mhc_chief_value = 0 }
				}
			}
			if = {
				limit = {
					check_variable = { mhc_sec_value = 0 }
				}
				mhc_ai_army_assign_generate_random_index_loop_high = yes
				set_temp_variable = { mhc_add_sec_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_sec = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_chief_value = 0 }
				}
				mhc_ai_army_assign_generate_random_index_loop_high = yes
				set_temp_variable = { mhc_add_chief_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_chief = yes
			}
		}
		else = {
			MHC_AI_generate_random_index_between_zero_and_seven = yes
			if = {
				limit = {
					check_variable = { mhc_sec_value = 0 }
				}
				set_temp_variable = { mhc_add_sec_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_sec = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_chief_value = 0 }
				}
				mhc_ai_army_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_chief_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_chief = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_vchief_value = 0 }
				}
				mhc_ai_army_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_vchief_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_vchief = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_pchief_value = 0 }
				}
				mhc_ai_army_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_pchief_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_pchief = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_quart_value = 0 }
				}
				mhc_ai_army_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_quart_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_quart = yes
			}
			else_if = {
				limit = {
					check_variable = { mhc_ins_value = 0 }
				}
				mhc_ai_army_assign_generate_random_index_loop = yes
				set_temp_variable = { mhc_add_ins_target = local_mhc_army_available_array^temp_generated_index_zero_seven }
				mhc_add_ins = yes
			}
		}
	}
}

mhc_ai_airforce_assign_generate_random_index_loop = {
	hidden_effect = {
		MHC_AI_generate_random_index_between_zero_and_seven = yes
		while_loop_effect = {
			limit = {
				OR = {
					check_variable = { mhc_afc_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_ach_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_opg_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_wic_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_supc_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				}
			}
			MHC_AI_generate_random_index_between_zero_and_seven = yes
		}
	}
}

mhc_ai_navy_assign_generate_random_index_loop = {
	hidden_effect = {
		MHC_AI_generate_random_index_between_zero_and_seven = yes
		while_loop_effect = {
			limit = {
				OR = {
					check_variable = { mhc_nas_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_ncs_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_nog_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_cog_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_nlg_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_mog_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
				}
			}
			MHC_AI_generate_random_index_between_zero_and_seven = yes
		}
	}
}

mhc_ai_army_assign_generate_random_index_loop = {
	hidden_effect = {
		MHC_AI_generate_random_index_between_zero_and_seven = yes
		while_loop_effect = {
			limit = {
				OR = {
					check_variable = { mhc_sec_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_chief_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_vchief_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_quart_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_pchief_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_ins_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
				}
			}
			MHC_AI_generate_random_index_between_zero_and_seven = yes
		}
	}
}

mhc_ai_airforce_assign_generate_random_index_loop_high = {
	hidden_effect = {
		MHC_AI_generate_random_index_between_zero_and_seven = yes
		while_loop_effect = {
			limit = {
				OR = {
					if = {
						limit = {
							NOT = {
								check_variable = { local_mhc_high_airforce_available_array^num < 1 }
							}
						}
						NOT = {
							is_in_array = {
								array = local_mhc_high_airforce_available_array
								value = local_mhc_airforce_available_array^temp_generated_index_zero_seven
							}
						}
					}
					check_variable = { mhc_afc_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_ach_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_opg_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_wic_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_supc_value = local_mhc_airforce_available_array^temp_generated_index_zero_seven }
				}
			}
			MHC_AI_generate_random_index_between_zero_and_seven = yes
		}
	}
}

mhc_ai_navy_assign_generate_random_index_loop_high = {
    hidden_effect = {
        set_variable = { loop_counter = 0 }
        MHC_AI_generate_random_index_between_zero_and_seven = yes
        while_loop_effect = {
            limit = {
                check_variable = { loop_counter < 100 } # Safety limit
                OR = {
                    if = {
                        limit = {
                            NOT = {
                                check_variable = { local_mhc_high_navy_available_array^num < 2 }
                            }
                        }
                        NOT = {
                            is_in_array = {
                                array = local_mhc_high_navy_available_array
                                value = local_mhc_navy_available_array^temp_generated_index_zero_seven
                            }
                        }
                    }
                    check_variable = { mhc_nas_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
                    check_variable = { mhc_ncs_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
                    check_variable = { mhc_nog_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
                    check_variable = { mhc_cog_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
                    check_variable = { mhc_nlg_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
                    check_variable = { mhc_mog_value = local_mhc_navy_available_array^temp_generated_index_zero_seven }
                }
            }
            MHC_AI_generate_random_index_between_zero_and_seven = yes
            add_to_variable = { loop_counter = 1 }
        }
    }
}

mhc_ai_army_assign_generate_random_index_loop_high = {
	hidden_effect = {
		set_variable = { loop_counter = 0 }
		MHC_AI_generate_random_index_between_zero_and_seven = yes
		while_loop_effect = {
			limit = {
				check_variable = { loop_counter < 100 } # Maximum 100 iterations
				OR = {
					if = {
						limit = {
							NOT = {
								check_variable = { local_mhc_high_army_available_array^num < 2 }
							}
						}
						NOT = {
							is_in_array = {
								array = local_mhc_high_army_available_array
								value = local_mhc_army_available_array^temp_generated_index_zero_seven
							}
						}
					}
					check_variable = { mhc_sec_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_chief_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_vchief_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_quart_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_pchief_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
					check_variable = { mhc_ins_value = local_mhc_army_available_array^temp_generated_index_zero_seven }
				}
			}
			MHC_AI_generate_random_index_between_zero_and_seven = yes
			add_to_variable = { loop_counter = 1 }
		}
	}
}

mhc_ai_normalize_activations = {
	hidden_effect = {
		#army
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 1
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 2
				}
			}
			set_temp_variable = { mhc_deactivate_target = 2 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 2
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 3
				}
			}
			set_temp_variable = { mhc_deactivate_target = 3 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 3
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 4
				}
			}
			set_temp_variable = { mhc_deactivate_target = 4 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 2
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 5
				}
			}
			set_temp_variable = { mhc_deactivate_target = 5 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 5
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 6
				}
			}
			set_temp_variable = { mhc_deactivate_target = 6 }
			mhc_deactivate = yes
		}
		
		#airforce
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 7
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 8
				}
			}
			set_temp_variable = { mhc_deactivate_target = 8 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 8
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 9
				}
			}
			set_temp_variable = { mhc_deactivate_target = 9 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 9
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 10
				}
			}
			set_temp_variable = { mhc_deactivate_target = 10 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 9
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 11
				}
			}
			set_temp_variable = { mhc_deactivate_target = 11 }
			mhc_deactivate = yes
		}
		
		#navy
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 12
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 13
				}
			}
			set_temp_variable = { mhc_deactivate_target = 13 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 13
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 14
				}
			}
			set_temp_variable = { mhc_deactivate_target = 14 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 13
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 15
				}
			}
			set_temp_variable = { mhc_deactivate_target = 15 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 13
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 16
				}
			}
			set_temp_variable = { mhc_deactivate_target = 16 }
			mhc_deactivate = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 15
					}
				}
				is_in_array = {
					array = local_mhc_active
					value = 17
				}
			}
			set_temp_variable = { mhc_deactivate_target = 17 }
			mhc_deactivate = yes
		}
	}
}

mhc_ai_airforce_activate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_airforce_advisors_disnormalized = yes
			}
			mhc_ai_normalize_activations = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 7
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 7 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 8
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 8 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 9
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 9 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 10
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 10 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 11
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 11 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
	}
}

mhc_ai_navy_activate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_navy_advisors_disnormalized = yes
			}
			mhc_ai_normalize_activations = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 12
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 12 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 13
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 13 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 14
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 14 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 15
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 15 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 16
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 16 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 17
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 17 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
	}
}

mhc_ai_army_activate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_army_advisors_disnormalized = yes
			}
			mhc_ai_normalize_activations = yes
		}
		if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 1
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 1 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 2
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 2 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 3
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 3 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 4
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 4 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 5
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 5 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
		else_if = {
			limit = {
				NOT = {
					is_in_array = {
						array = local_mhc_active
						value = 6
					}
				}
			}
			set_temp_variable = { mhc_activate_target = 6 }
			mhc_activate = yes
			add_command_power = -15
			#add_political_power = -100
		}
	}
}

mhc_ai_airforce_deactivate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_airforce_advisors_disnormalized = yes
			}
			mhc_ai_normalize_activations = yes
		}
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 11
				}
			}
			set_temp_variable = { mhc_deactivate_target = 11 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 10
				}
			}
			set_temp_variable = { mhc_deactivate_target = 10 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 9
				}
			}
			set_temp_variable = { mhc_deactivate_target = 9 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 8
				}
			}
			set_temp_variable = { mhc_deactivate_target = 8 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 7
				}
			}
			set_temp_variable = { mhc_deactivate_target = 7 }
			mhc_deactivate = yes
		}
	}
}

mhc_ai_navy_deactivate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_navy_advisors_disnormalized = yes
			}
			mhc_ai_normalize_activations = yes
		}
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 17
				}
			}
			set_temp_variable = { mhc_deactivate_target = 17 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 16
				}
			}
			set_temp_variable = { mhc_deactivate_target = 16 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 15
				}
			}
			set_temp_variable = { mhc_deactivate_target = 15 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 14
				}
			}
			set_temp_variable = { mhc_deactivate_target = 14 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 13
				}
			}
			set_temp_variable = { mhc_deactivate_target = 13 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 12
				}
			}
			set_temp_variable = { mhc_deactivate_target = 12 }
			mhc_deactivate = yes
		}
	}
}

mhc_ai_army_deactivate = {
	hidden_effect = {
		if = {
			limit = {
				mhc_army_advisors_disnormalized = yes
			}
			mhc_ai_normalize_activations = yes
		}
		if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 6
				}
			}
			set_temp_variable = { mhc_deactivate_target = 6 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 5
				}
			}
			set_temp_variable = { mhc_deactivate_target = 5 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 4
				}
			}
			set_temp_variable = { mhc_deactivate_target = 4 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 3
				}
			}
			set_temp_variable = { mhc_deactivate_target = 3 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 2
				}
			}
			set_temp_variable = { mhc_deactivate_target = 2 }
			mhc_deactivate = yes
		}
		else_if = {
			limit = {
				is_in_array = {
					array = local_mhc_active
					value = 1
				}
			}
			set_temp_variable = { mhc_deactivate_target = 1 }
			mhc_deactivate = yes
		}
	}
}
